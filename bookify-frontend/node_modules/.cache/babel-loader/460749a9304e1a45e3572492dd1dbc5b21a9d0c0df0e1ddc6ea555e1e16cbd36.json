{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calina\\\\Desktop\\\\ANUL3\\\\sem2\\\\SD\\\\proiect\\\\bookify-frontend\\\\src\\\\pages\\\\CountryPage.jsx\",\n  _s = $RefreshSig$();\n/* src/pages/CountryPage.jsx */\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport axios from \"axios\";\nimport { DateRange } from \"react-date-range\";\nimport { addDays } from \"date-fns\";\nimport \"react-date-range/dist/styles.css\";\nimport \"react-date-range/dist/theme/default.css\";\n\n/* ─────────────────────────── styles ─────────────────────────── */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fade = keyframes`from{opacity:0}to{opacity:1}`;\nconst Hero = styled.section`\n  /* dark overlay so white text pops */\n  background:\n    linear-gradient(to bottom,rgba(0,0,0,.35),rgba(0,0,0,.35)),\n    url(${p => p.$img}) center/cover;\n\n  height: 260px;\n  display: flex; align-items: center; justify-content: center;\n  color: #fff; font-size: 2.6rem; font-weight: 800;\n  text-shadow: 0 2px 8px #0006;\n`;\n_c = Hero;\nconst Filters = styled.div`\n  width: 95%; max-width: 1080px; margin: -40px auto 2.5rem;\n  padding: 1.25rem 1.75rem; border-radius: 20px;\n  backdrop-filter: blur(16px);\n  background: rgba(255, 255, 255, .55);\n  box-shadow: 0 8px 28px rgba(0,0,0,.12);\n  animation: ${fade} .5s ease-out;\n`;\n_c2 = Filters;\nconst Grid = styled.section`\n  display: grid; gap: 2rem;\n  max-width: 1400px; margin: 0 auto 4rem; padding: 0 3rem;\n  grid-template-columns: repeat(auto-fit,minmax(300px,1fr));\n  animation: ${fade} .6s ease-out;\n`;\n_c3 = Grid;\nconst Card = styled.div`\n  position: relative; border-radius: 22px; overflow: hidden; cursor: pointer;\n  transition: .35s; box-shadow: 0 6px 22px rgba(0,0,0,.14);\n\n  &:hover{\n    transform: translateY(-8px) scale(1.03);\n    box-shadow: 0 14px 32px rgba(0,0,0,.20);\n  }\n`;\n_c4 = Card;\nconst Thumb = styled.img`\n  width: 100%; height: 220px; object-fit: cover;\n`;\n_c5 = Thumb;\nconst Glass = styled.div`\n  position: absolute; inset: auto 0 0 0; padding: 1rem 1.25rem;\n  background: rgba(255,255,255,.72); backdrop-filter: blur(14px);\n`;\n_c6 = Glass;\nconst Title = styled.h3`\n  margin: 0 0 .4rem; font-size: 1.15rem; color: #003b70;\n`;\n_c7 = Title;\nconst Chip = styled.span`\n  display: inline-block; font-size: .68rem; font-weight: 700;\n  padding: .15rem .55rem; border-radius: 999px; background: ${p => p.bg};\n  color: #fff; margin-right: .35rem;\n`;\n_c8 = Chip;\nconst Row = styled.p`\n  margin: .1rem 0; font-size: .9rem; color: #42526e;\n`;\n_c9 = Row;\nconst Price = styled.div`\n  font-weight: 700; font-size: 1.08rem; color: #175dff; margin-top: .45rem;\n`;\n_c0 = Price;\nconst Empty = styled.p`\n  grid-column: 1 / -1; text-align: center; font-weight: 600; color: #003b70;\n`;\n\n/* ─────────────────────────── helpers ────────────────────────── */\n_c1 = Empty;\nconst diffDays = (a, b) => Math.max(1, Math.round((b - a) / 864e5));\n\n/* ─────────────────────────── component ──────────────────────── */\nexport default function CountryPage() {\n  _s();\n  const {\n    code\n  } = useParams(); // e.g. \"FR\"\n  const nav = useNavigate();\n\n  /* default calendar: tomorrow → +7 days */\n  const [range, setRange] = useState([{\n    key: \"selection\",\n    startDate: addDays(new Date(), 1),\n    endDate: addDays(new Date(), 8)\n  }]);\n\n  /* raw listings */\n  const [hotels, setHotels] = useState([]);\n  const [flights, setFlights] = useState([]);\n  const [events, setEvents] = useState([]);\n\n  /* one-time fetch */\n  useEffect(() => {\n    (async () => {\n      const cfg = {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      };\n      const [h, f, e] = await Promise.all([axios.get(\"/api/listings/hotels\", cfg), axios.get(\"/api/listings/flights\", cfg), axios.get(\"/api/listings/events\", cfg)]);\n      setHotels(h.data.map(o => ({\n        ...o,\n        pricePerNight: o.price\n      })));\n      setFlights(f.data);\n      setEvents(e.data);\n    })();\n  }, []);\n\n  /* derive “bundles” */\n  const bundles = useMemo(() => {\n    if (!range[0]) return [];\n    const {\n      startDate: from,\n      endDate: to\n    } = range[0];\n    const nights = diffDays(from, to);\n    const hs = hotels.filter(h => h.country === code && new Date(h.availableFrom) <= from && new Date(h.availableTo) >= to);\n    const fs = flights.filter(f => f.country === code && new Date(f.departureTime) >= from && new Date(f.arrivalTime) <= to);\n    const es = events.filter(ev => ev.country === code && new Date(ev.eventDate) >= from && new Date(ev.eventDate) <= to);\n    const out = [];\n    hs.forEach(h => {\n      fs.forEach(f => {\n        es.forEach(ev => {\n          var _ref, _h$photoUrl;\n          out.push({\n            id: `${h.id}-${f.id}-${ev.id}`,\n            hotel: h,\n            flight: f,\n            event: ev,\n            nights,\n            total: nights * h.pricePerNight + f.price + ev.price,\n            thumb: (_ref = (_h$photoUrl = h.photoUrl) !== null && _h$photoUrl !== void 0 ? _h$photoUrl : ev.photoUrl) !== null && _ref !== void 0 ? _ref : f.photoUrl\n          });\n        });\n      });\n    });\n    return out.sort((a, b) => a.total - b.total).slice(0, 24);\n  }, [code, range, hotels, flights, events]);\n\n  /* hero image */\n  const heroImg = `https://source.unsplash.com/1600x600/?${code},landmark`;\n\n  /* ───────────────────── JSX ───────────────────── */\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      $img: heroImg,\n      children: code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        style: {\n          color: \"#003b70\",\n          marginRight: \"1rem\"\n        },\n        children: \"Dates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DateRange, {\n        ranges: range,\n        onChange: r => setRange([r.selection]),\n        moveRangeOnFirstSelection: false,\n        rangeColors: [\"#175dff\"],\n        editableDateInputs: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      children: bundles.length ? bundles.map(b => /*#__PURE__*/_jsxDEV(Card, {\n        onClick: () => nav(`/packages/${b.id}`, {\n          state: b\n        }),\n        children: [/*#__PURE__*/_jsxDEV(Thumb, {\n          src: b.thumb || \"https://via.placeholder.com/400x250\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Glass, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: b.hotel.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [b.nights, \" nights \\xB7 \", b.hotel.city, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 51\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              bg: \"#175dff\",\n              children: [\"\\u2708 \", b.flight.airline]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              bg: \"#e92365\",\n              children: [\"\\uD83C\\uDFAB \", b.event.title.length > 18 ? b.event.title.slice(0, 18) + \"…\" : b.event.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Price, {\n            children: [\"\\u20AC \", b.total.toFixed(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, b.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)) : /*#__PURE__*/_jsxDEV(Empty, {\n        children: \"No matching bundles \\u2013 try another date window.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CountryPage, \"T7cpeMXzXz2oPyls5IGlyYsepwo=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c10 = CountryPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"Hero\");\n$RefreshReg$(_c2, \"Filters\");\n$RefreshReg$(_c3, \"Grid\");\n$RefreshReg$(_c4, \"Card\");\n$RefreshReg$(_c5, \"Thumb\");\n$RefreshReg$(_c6, \"Glass\");\n$RefreshReg$(_c7, \"Title\");\n$RefreshReg$(_c8, \"Chip\");\n$RefreshReg$(_c9, \"Row\");\n$RefreshReg$(_c0, \"Price\");\n$RefreshReg$(_c1, \"Empty\");\n$RefreshReg$(_c10, \"CountryPage\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","useNavigate","styled","keyframes","axios","DateRange","addDays","jsxDEV","_jsxDEV","Fragment","_Fragment","fade","Hero","section","p","$img","_c","Filters","div","_c2","Grid","_c3","Card","_c4","Thumb","img","_c5","Glass","_c6","Title","h3","_c7","Chip","span","bg","_c8","Row","_c9","Price","_c0","Empty","_c1","diffDays","a","b","Math","max","round","CountryPage","_s","code","nav","range","setRange","key","startDate","Date","endDate","hotels","setHotels","flights","setFlights","events","setEvents","cfg","headers","Authorization","localStorage","getItem","h","f","e","Promise","all","get","data","map","o","pricePerNight","price","bundles","from","to","nights","hs","filter","country","availableFrom","availableTo","fs","departureTime","arrivalTime","es","ev","eventDate","out","forEach","_ref","_h$photoUrl","push","id","hotel","flight","event","total","thumb","photoUrl","sort","slice","heroImg","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","marginRight","ranges","onChange","r","selection","moveRangeOnFirstSelection","rangeColors","editableDateInputs","length","onClick","state","src","title","city","airline","toFixed","_c10","$RefreshReg$"],"sources":["C:/Users/Calina/Desktop/ANUL3/sem2/SD/proiect/bookify-frontend/src/pages/CountryPage.jsx"],"sourcesContent":["/* src/pages/CountryPage.jsx */\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useParams, useNavigate }  from \"react-router-dom\";\r\nimport styled, { keyframes }       from \"styled-components\";\r\nimport axios                       from \"axios\";\r\nimport { DateRange }               from \"react-date-range\";\r\nimport { addDays }                 from \"date-fns\";\r\n\r\nimport \"react-date-range/dist/styles.css\";\r\nimport \"react-date-range/dist/theme/default.css\";\r\n\r\n/* ─────────────────────────── styles ─────────────────────────── */\r\nconst fade = keyframes`from{opacity:0}to{opacity:1}`;\r\n\r\nconst Hero = styled.section`\r\n  /* dark overlay so white text pops */\r\n  background:\r\n    linear-gradient(to bottom,rgba(0,0,0,.35),rgba(0,0,0,.35)),\r\n    url(${p => p.$img}) center/cover;\r\n\r\n  height: 260px;\r\n  display: flex; align-items: center; justify-content: center;\r\n  color: #fff; font-size: 2.6rem; font-weight: 800;\r\n  text-shadow: 0 2px 8px #0006;\r\n`;\r\n\r\nconst Filters = styled.div`\r\n  width: 95%; max-width: 1080px; margin: -40px auto 2.5rem;\r\n  padding: 1.25rem 1.75rem; border-radius: 20px;\r\n  backdrop-filter: blur(16px);\r\n  background: rgba(255, 255, 255, .55);\r\n  box-shadow: 0 8px 28px rgba(0,0,0,.12);\r\n  animation: ${fade} .5s ease-out;\r\n`;\r\n\r\nconst Grid = styled.section`\r\n  display: grid; gap: 2rem;\r\n  max-width: 1400px; margin: 0 auto 4rem; padding: 0 3rem;\r\n  grid-template-columns: repeat(auto-fit,minmax(300px,1fr));\r\n  animation: ${fade} .6s ease-out;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  position: relative; border-radius: 22px; overflow: hidden; cursor: pointer;\r\n  transition: .35s; box-shadow: 0 6px 22px rgba(0,0,0,.14);\r\n\r\n  &:hover{\r\n    transform: translateY(-8px) scale(1.03);\r\n    box-shadow: 0 14px 32px rgba(0,0,0,.20);\r\n  }\r\n`;\r\n\r\nconst Thumb  = styled.img`\r\n  width: 100%; height: 220px; object-fit: cover;\r\n`;\r\n\r\nconst Glass  = styled.div`\r\n  position: absolute; inset: auto 0 0 0; padding: 1rem 1.25rem;\r\n  background: rgba(255,255,255,.72); backdrop-filter: blur(14px);\r\n`;\r\n\r\nconst Title  = styled.h3`\r\n  margin: 0 0 .4rem; font-size: 1.15rem; color: #003b70;\r\n`;\r\n\r\nconst Chip   = styled.span`\r\n  display: inline-block; font-size: .68rem; font-weight: 700;\r\n  padding: .15rem .55rem; border-radius: 999px; background: ${p=>p.bg};\r\n  color: #fff; margin-right: .35rem;\r\n`;\r\n\r\nconst Row    = styled.p`\r\n  margin: .1rem 0; font-size: .9rem; color: #42526e;\r\n`;\r\n\r\nconst Price  = styled.div`\r\n  font-weight: 700; font-size: 1.08rem; color: #175dff; margin-top: .45rem;\r\n`;\r\n\r\nconst Empty  = styled.p`\r\n  grid-column: 1 / -1; text-align: center; font-weight: 600; color: #003b70;\r\n`;\r\n\r\n/* ─────────────────────────── helpers ────────────────────────── */\r\nconst diffDays = (a,b)=>Math.max(1,Math.round((b-a)/864e5));\r\n\r\n/* ─────────────────────────── component ──────────────────────── */\r\nexport default function CountryPage() {\r\n  const { code } = useParams();     // e.g. \"FR\"\r\n  const nav      = useNavigate();\r\n\r\n  /* default calendar: tomorrow → +7 days */\r\n  const [range,setRange] = useState([\r\n    { key:\"selection\",\r\n      startDate: addDays(new Date(),1),\r\n      endDate  : addDays(new Date(),8) }\r\n  ]);\r\n\r\n  /* raw listings */\r\n  const [hotels ,setHotels ] = useState([]);\r\n  const [flights,setFlights] = useState([]);\r\n  const [events ,setEvents ] = useState([]);\r\n\r\n  /* one-time fetch */\r\n  useEffect(()=>{\r\n    (async()=>{\r\n      const cfg = { headers:{Authorization:`Bearer ${localStorage.getItem(\"jwt\")}`} };\r\n\r\n      const [h,f,e] = await Promise.all([\r\n        axios.get(\"/api/listings/hotels\",  cfg),\r\n        axios.get(\"/api/listings/flights\", cfg),\r\n        axios.get(\"/api/listings/events\",  cfg)\r\n      ]);\r\n\r\n      setHotels (h.data.map(o=>({...o, pricePerNight:o.price})));\r\n      setFlights(f.data);\r\n      setEvents (e.data);\r\n    })();\r\n  },[]);\r\n\r\n  /* derive “bundles” */\r\n  const bundles = useMemo(()=>{\r\n    if(!range[0]) return [];\r\n\r\n    const { startDate:from, endDate:to } = range[0];\r\n    const nights = diffDays(from,to);\r\n\r\n    const hs = hotels .filter(h =>\r\n        h.country===code &&\r\n        new Date(h.availableFrom)<=from &&\r\n        new Date(h.availableTo)>=to );\r\n\r\n    const fs = flights.filter(f =>\r\n        f.country===code &&\r\n        new Date(f.departureTime)>=from &&\r\n        new Date(f.arrivalTime)<=to );\r\n\r\n    const es = events .filter(ev=>\r\n        ev.country===code &&\r\n        new Date(ev.eventDate)>=from &&\r\n        new Date(ev.eventDate)<=to );\r\n\r\n    const out=[];\r\n    hs.forEach(h=>{\r\n      fs.forEach(f=>{\r\n        es.forEach(ev=>{\r\n          out.push({\r\n            id   :`${h.id}-${f.id}-${ev.id}`,\r\n            hotel:h, flight:f, event:ev, nights,\r\n            total:nights*h.pricePerNight + f.price + ev.price,\r\n            thumb:h.photoUrl ?? ev.photoUrl ?? f.photoUrl\r\n          });\r\n        });\r\n      });\r\n    });\r\n\r\n    return out.sort((a,b)=>a.total-b.total).slice(0,24);\r\n  },[code,range,hotels,flights,events]);\r\n\r\n  /* hero image */\r\n  const heroImg = `https://source.unsplash.com/1600x600/?${code},landmark`;\r\n\r\n  /* ───────────────────── JSX ───────────────────── */\r\n  return (\r\n    <>\r\n      <Hero $img={heroImg}>{code}</Hero>\r\n\r\n      <Filters>\r\n        <strong style={{color:\"#003b70\",marginRight:\"1rem\"}}>Dates</strong>\r\n        <DateRange\r\n          ranges={range}\r\n          onChange={r=> setRange([ r.selection ])}\r\n          moveRangeOnFirstSelection={false}\r\n          rangeColors={[\"#175dff\"]}\r\n          editableDateInputs\r\n        />\r\n      </Filters>\r\n\r\n      <Grid>\r\n        {bundles.length ? bundles.map(b=>(\r\n          <Card key={b.id} onClick={()=>nav(`/packages/${b.id}`,{state:b})}>\r\n            <Thumb src={b.thumb || \"https://via.placeholder.com/400x250\"} />\r\n            <Glass>\r\n              <Title>{b.hotel.title}</Title>\r\n              <Row>\r\n                {b.nights} nights · {b.hotel.city}<br/>\r\n                <Chip bg=\"#175dff\">✈ {b.flight.airline}</Chip>\r\n                <Chip bg=\"#e92365\">\r\n                  🎫 {b.event.title.length>18 ? b.event.title.slice(0,18)+\"…\" : b.event.title}\r\n                </Chip>\r\n              </Row>\r\n              <Price>€ {b.total.toFixed(0)}</Price>\r\n            </Glass>\r\n          </Card>\r\n        )) : <Empty>No matching bundles – try another date window.</Empty>}\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}