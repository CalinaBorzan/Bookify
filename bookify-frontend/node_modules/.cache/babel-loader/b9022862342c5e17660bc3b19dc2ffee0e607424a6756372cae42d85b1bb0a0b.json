{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calina\\\\Desktop\\\\ANUL3\\\\sem2\\\\SD\\\\proiect\\\\bookify-frontend\\\\src\\\\pages\\\\AccountPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`max-width:900px;margin:3rem auto;padding:0 1rem;`;\n_c = Wrapper;\nconst Tabs = styled.div`display:flex;gap:2rem;border-bottom:2px solid #e0e0e0;margin-bottom:2rem;`;\n_c2 = Tabs;\nconst Tab = styled.button`\n  background:none;border:none;font-size:1.1rem;font-weight:600;cursor:pointer;\n  padding:.6rem 0;color:${p => p.active === \"true\" ? \"#175dff\" : \"#777\"};\n  border-bottom:3px solid ${p => p.active === \"true\" ? \"#175dff\" : \"transparent\"};\n`;\n_c3 = Tab;\nconst Section = styled.div`animation:fade .3s;@keyframes fade{from{opacity:0}to{opacity:1}}`;\n_c4 = Section;\nconst FormGroup = styled.div`margin-bottom:1rem;`;\n_c5 = FormGroup;\nconst Label = styled.label`display:block;margin-bottom:0.3rem;color:#003b70;font-weight:600;`;\n_c6 = Label;\nconst Input = styled.input`width:100%;padding:0.6rem;border:1px solid #d1e0ff;border-radius:6px;`;\n_c7 = Input;\nconst SaveButton = styled.button`\n  padding:0.7rem 1.5rem;background:#175dff;color:#fff;border:none;border-radius:6px;cursor:pointer;\n  &:hover{background:#004bff;}\n`;\n_c8 = SaveButton;\nconst DeleteButton = styled.button`\n  padding:0.7rem 1.5rem;background:#e92365;color:#fff;border:none;border-radius:6px;cursor:pointer;margin-left:1rem;\n  &:hover{background:#ff6b9b;}\n`;\n_c9 = DeleteButton;\nconst BookingCard = styled.div`border:1px solid #e0e0e0;border-radius:6px;padding:1rem;margin-bottom:1rem;`;\n_c0 = BookingCard;\nconst ReviewInput = styled.textarea`width:100%;min-height:80px;padding:0.5rem;margin-top:0.5rem;`;\n_c1 = ReviewInput;\nconst SubmitReviewButton = styled.button`\n  padding:0.6rem 1.2rem;background:#28a745;color:#fff;border:none;border-radius:6px;margin-top:0.5rem;\n`;\n_c10 = SubmitReviewButton;\nexport default function AccountPage() {\n  _s();\n  const [tab, setTab] = useState(\"profile\");\n  const [user, setUser] = useState(null);\n  const [bookings, setBookings] = useState([]);\n  const [reviews, setReviews] = useState({});\n  const [newReview, setNewReview] = useState({});\n  const [editUser, setEditUser] = useState({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    age: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    console.log(\"JWT Token:\", token);\n    if (!token) {\n      setError(\"No authentication token found. Redirecting to login...\");\n      setLoading(false);\n      setTimeout(() => window.location.href = \"/login\", 2000);\n      return;\n    }\n    axios.get(\"/api/users/me\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      console.log(\"User API Response:\", response.data);\n      const userData = response.data;\n      setUser(userData);\n      setEditUser({\n        email: userData.email || \"\",\n        username: userData.username || \"\",\n        password: \"\",\n        firstName: userData.firstName || \"\",\n        lastName: userData.lastName || \"\",\n        age: userData.age ? userData.age.toString() : \"\"\n      });\n      setLoading(false);\n    }).catch(err => {\n      var _err$response;\n      setError(`Failed to load profile: ${err.message} (Status: ${(_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status})`);\n      console.error(\"API Error:\", err.response ? err.response.data : err);\n      setLoading(false);\n    });\n    axios.get(\"/api/bookings/user/1\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      console.log(\"Bookings API Response:\", response.data);\n      setBookings(response.data);\n      response.data.forEach(booking => {\n        axios.get(`/api/reviews/booking/${booking.id}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(r => setReviews(prev => ({\n          ...prev,\n          [booking.id]: r.data\n        }))).catch(err => console.error(`Failed to load reviews for booking ${booking.id}:`, err));\n      });\n    }).catch(err => {\n      var _err$response2;\n      return setError(`Failed to load bookings: ${err.message} (Status: ${(_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status})`);\n    });\n  }, []);\n  const handleSave = () => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      setError(\"No authentication token found. Please log in.\");\n      return;\n    }\n    const originalUsername = user.username;\n    const newUsername = editUser.username;\n    axios.patch(\"/api/users/me\", {\n      email: editUser.email,\n      username: editUser.username,\n      password: editUser.password || undefined,\n      firstName: editUser.firstName,\n      lastName: editUser.lastName,\n      age: editUser.age ? parseInt(editUser.age, 10) : undefined\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setUser(response.data);\n      setError(null);\n      if (originalUsername !== newUsername) {\n        // Username changed, token is now invalid\n        localStorage.removeItem(\"jwt\");\n        alert(\"Username updated. Please log in again with your new username.\");\n        window.location.href = \"/login\";\n      } else {\n        alert(\"Profile updated successfully!\");\n      }\n    }).catch(err => setError(\"Failed to update profile: \" + err.message));\n  };\n  const handleDelete = () => {\n    if (window.confirm(\"Are you sure you want to delete your account? This action cannot be undone.\")) {\n      const token = localStorage.getItem(\"jwt\");\n      if (!token) {\n        setError(\"No authentication token found. Please log in.\");\n        return;\n      }\n      axios.delete(\"/api/users/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(() => {\n        localStorage.removeItem(\"jwt\");\n        alert(\"Account deleted successfully. You have been logged out.\");\n        window.location.href = \"/login\";\n      }).catch(err => setError(\"Failed to delete account: \" + err.message));\n    }\n  };\n  const handleReviewSubmit = bookingId => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      setError(\"No authentication token found. Please log in.\");\n      return;\n    }\n    axios.post(\"/api/reviews\", {\n      bookingId,\n      comment: newReview[bookingId] || \"\",\n      rating: 5\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setReviews(prev => ({\n        ...prev,\n        [bookingId]: [response.data, ...(prev[bookingId] || [])]\n      }));\n      setNewReview(prev => ({\n        ...prev,\n        [bookingId]: \"\"\n      }));\n      setError(null);\n    }).catch(err => setError(`Failed to add review for booking ${bookingId}: ${err.message}`));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        active: tab === \"profile\" ? \"true\" : \"false\",\n        onClick: () => setTab(\"profile\"),\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        active: tab === \"bookings\" ? \"true\" : \"false\",\n        onClick: () => setTab(\"bookings\"),\n        children: \"My bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#e92365\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }, this), tab === \"profile\" && user && /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.email,\n          onChange: e => setEditUser({\n            ...editUser,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.username,\n          onChange: e => setEditUser({\n            ...editUser,\n            username: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          value: editUser.password,\n          onChange: e => setEditUser({\n            ...editUser,\n            password: e.target.value\n          }),\n          placeholder: \"Leave blank to keep unchanged\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.firstName,\n          onChange: e => setEditUser({\n            ...editUser,\n            firstName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.lastName,\n          onChange: e => setEditUser({\n            ...editUser,\n            lastName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Age\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"number\",\n          value: editUser.age,\n          onChange: e => setEditUser({\n            ...editUser,\n            age: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Role (read-only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: user.role,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SaveButton, {\n        onClick: handleSave,\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n        onClick: handleDelete,\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), tab === \"bookings\" && /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upcoming & past trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), bookings.length ? bookings.map(booking => {\n        var _booking$listing, _booking$listing2;\n        return /*#__PURE__*/_jsxDEV(BookingCard, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [((_booking$listing = booking.listing) === null || _booking$listing === void 0 ? void 0 : _booking$listing.title) || \"Unknown Listing\", \" (\", booking.type, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-in: \", booking.checkIn, \" | Check-out: \", booking.checkOut]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total: $\", ((_booking$listing2 = booking.listing) === null || _booking$listing2 === void 0 ? void 0 : _booking$listing2.price) * (booking.numGuests || 1) || \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", booking.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ReviewInput, {\n            value: newReview[booking.id] || \"\",\n            onChange: e => setNewReview({\n              ...newReview,\n              [booking.id]: e.target.value\n            }),\n            placeholder: \"Add a review...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SubmitReviewButton, {\n            onClick: () => handleReviewSubmit(booking.id),\n            children: \"Submit Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), reviews[booking.id] && reviews[booking.id].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this), reviews[booking.id].map(review => /*#__PURE__*/_jsxDEV(\"p\", {\n              children: review.comment\n            }, review.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 19\n          }, this)]\n        }, booking.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You have no bookings yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(AccountPage, \"a0sg6LQBskeMLZ4zbk8Vk6LjKy4=\");\n_c11 = AccountPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Tabs\");\n$RefreshReg$(_c3, \"Tab\");\n$RefreshReg$(_c4, \"Section\");\n$RefreshReg$(_c5, \"FormGroup\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"Input\");\n$RefreshReg$(_c8, \"SaveButton\");\n$RefreshReg$(_c9, \"DeleteButton\");\n$RefreshReg$(_c0, \"BookingCard\");\n$RefreshReg$(_c1, \"ReviewInput\");\n$RefreshReg$(_c10, \"SubmitReviewButton\");\n$RefreshReg$(_c11, \"AccountPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","jsxDEV","_jsxDEV","Wrapper","div","_c","Tabs","_c2","Tab","button","p","active","_c3","Section","_c4","FormGroup","_c5","Label","label","_c6","Input","input","_c7","SaveButton","_c8","DeleteButton","_c9","BookingCard","_c0","ReviewInput","textarea","_c1","SubmitReviewButton","_c10","AccountPage","_s","tab","setTab","user","setUser","bookings","setBookings","reviews","setReviews","newReview","setNewReview","editUser","setEditUser","email","username","password","firstName","lastName","age","loading","setLoading","error","setError","token","localStorage","getItem","console","log","setTimeout","window","location","href","get","headers","Authorization","then","response","data","userData","toString","catch","err","_err$response","message","status","forEach","booking","id","r","prev","_err$response2","handleSave","originalUsername","newUsername","patch","undefined","parseInt","removeItem","alert","handleDelete","confirm","delete","handleReviewSubmit","bookingId","post","comment","rating","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","color","value","onChange","e","target","type","placeholder","role","disabled","length","map","_booking$listing","_booking$listing2","listing","title","checkIn","checkOut","price","numGuests","review","_c11","$RefreshReg$"],"sources":["C:/Users/Calina/Desktop/ANUL3/sem2/SD/proiect/bookify-frontend/src/pages/AccountPage.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst Wrapper = styled.div`max-width:900px;margin:3rem auto;padding:0 1rem;`;\r\nconst Tabs = styled.div`display:flex;gap:2rem;border-bottom:2px solid #e0e0e0;margin-bottom:2rem;`;\r\nconst Tab = styled.button`\r\n  background:none;border:none;font-size:1.1rem;font-weight:600;cursor:pointer;\r\n  padding:.6rem 0;color:${p=>p.active===\"true\"?\"#175dff\":\"#777\"};\r\n  border-bottom:3px solid ${p=>p.active===\"true\"?\"#175dff\":\"transparent\"};\r\n`;\r\nconst Section = styled.div`animation:fade .3s;@keyframes fade{from{opacity:0}to{opacity:1}}`;\r\nconst FormGroup = styled.div`margin-bottom:1rem;`;\r\nconst Label = styled.label`display:block;margin-bottom:0.3rem;color:#003b70;font-weight:600;`;\r\nconst Input = styled.input`width:100%;padding:0.6rem;border:1px solid #d1e0ff;border-radius:6px;`;\r\nconst SaveButton = styled.button`\r\n  padding:0.7rem 1.5rem;background:#175dff;color:#fff;border:none;border-radius:6px;cursor:pointer;\r\n  &:hover{background:#004bff;}\r\n`;\r\nconst DeleteButton = styled.button`\r\n  padding:0.7rem 1.5rem;background:#e92365;color:#fff;border:none;border-radius:6px;cursor:pointer;margin-left:1rem;\r\n  &:hover{background:#ff6b9b;}\r\n`;\r\nconst BookingCard = styled.div`border:1px solid #e0e0e0;border-radius:6px;padding:1rem;margin-bottom:1rem;`;\r\nconst ReviewInput = styled.textarea`width:100%;min-height:80px;padding:0.5rem;margin-top:0.5rem;`;\r\nconst SubmitReviewButton = styled.button`\r\n  padding:0.6rem 1.2rem;background:#28a745;color:#fff;border:none;border-radius:6px;margin-top:0.5rem;\r\n`;\r\n\r\nexport default function AccountPage() {\r\n  const [tab, setTab] = useState(\"profile\");\r\n  const [user, setUser] = useState(null);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [reviews, setReviews] = useState({});\r\n  const [newReview, setNewReview] = useState({});\r\n  const [editUser, setEditUser] = useState({\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    age: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    console.log(\"JWT Token:\", token);\r\n    if (!token) {\r\n      setError(\"No authentication token found. Redirecting to login...\");\r\n      setLoading(false);\r\n      setTimeout(() => (window.location.href = \"/login\"), 2000);\r\n      return;\r\n    }\r\n\r\n    axios.get(\"/api/users/me\", { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(response => {\r\n        console.log(\"User API Response:\", response.data);\r\n        const userData = response.data;\r\n        setUser(userData);\r\n        setEditUser({\r\n          email: userData.email || \"\",\r\n          username: userData.username || \"\",\r\n          password: \"\",\r\n          firstName: userData.firstName || \"\",\r\n          lastName: userData.lastName || \"\",\r\n          age: userData.age ? userData.age.toString() : \"\",\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setError(`Failed to load profile: ${err.message} (Status: ${err.response?.status})`);\r\n        console.error(\"API Error:\", err.response ? err.response.data : err);\r\n        setLoading(false);\r\n      });\r\n\r\n    axios.get(\"/api/bookings/user/1\", { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(response => {\r\n        console.log(\"Bookings API Response:\", response.data);\r\n        setBookings(response.data);\r\n        response.data.forEach(booking => {\r\n          axios.get(`/api/reviews/booking/${booking.id}`, { headers: { Authorization: `Bearer ${token}` } })\r\n            .then(r => setReviews(prev => ({ ...prev, [booking.id]: r.data })))\r\n            .catch(err => console.error(`Failed to load reviews for booking ${booking.id}:`, err));\r\n        });\r\n      })\r\n      .catch(err => setError(`Failed to load bookings: ${err.message} (Status: ${err.response?.status})`));\r\n  }, []);\r\n\r\n  const handleSave = () => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if (!token) {\r\n      setError(\"No authentication token found. Please log in.\");\r\n      return;\r\n    }\r\n\r\n    const originalUsername = user.username;\r\n    const newUsername = editUser.username;\r\n\r\n    axios.patch(\"/api/users/me\", {\r\n      email: editUser.email,\r\n      username: editUser.username,\r\n      password: editUser.password || undefined,\r\n      firstName: editUser.firstName,\r\n      lastName: editUser.lastName,\r\n      age: editUser.age ? parseInt(editUser.age, 10) : undefined\r\n    }, { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(response => {\r\n        setUser(response.data);\r\n        setError(null);\r\n        if (originalUsername !== newUsername) {\r\n          // Username changed, token is now invalid\r\n          localStorage.removeItem(\"jwt\");\r\n          alert(\"Username updated. Please log in again with your new username.\");\r\n          window.location.href = \"/login\";\r\n        } else {\r\n          alert(\"Profile updated successfully!\");\r\n        }\r\n      })\r\n      .catch(err => setError(\"Failed to update profile: \" + err.message));\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    if (window.confirm(\"Are you sure you want to delete your account? This action cannot be undone.\")) {\r\n      const token = localStorage.getItem(\"jwt\");\r\n      if (!token) {\r\n        setError(\"No authentication token found. Please log in.\");\r\n        return;\r\n      }\r\n\r\n      axios.delete(\"/api/users/me\", { headers: { Authorization: `Bearer ${token}` } })\r\n        .then(() => {\r\n          localStorage.removeItem(\"jwt\");\r\n          alert(\"Account deleted successfully. You have been logged out.\");\r\n          window.location.href = \"/login\";\r\n        })\r\n        .catch(err => setError(\"Failed to delete account: \" + err.message));\r\n    }\r\n  };\r\n\r\n  const handleReviewSubmit = (bookingId) => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if (!token) {\r\n      setError(\"No authentication token found. Please log in.\");\r\n      return;\r\n    }\r\n\r\n    axios.post(\"/api/reviews\", {\r\n      bookingId,\r\n      comment: newReview[bookingId] || \"\",\r\n      rating: 5\r\n    }, { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(response => {\r\n        setReviews(prev => ({\r\n          ...prev,\r\n          [bookingId]: [response.data, ...(prev[bookingId] || [])]\r\n        }));\r\n        setNewReview(prev => ({ ...prev, [bookingId]: \"\" }));\r\n        setError(null);\r\n      })\r\n      .catch(err => setError(`Failed to add review for booking ${bookingId}: ${err.message}`));\r\n  };\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <h1>My account</h1>\r\n      <Tabs>\r\n        <Tab active={tab === \"profile\" ? \"true\" : \"false\"} onClick={() => setTab(\"profile\")}>Profile</Tab>\r\n        <Tab active={tab === \"bookings\" ? \"true\" : \"false\"} onClick={() => setTab(\"bookings\")}>My bookings</Tab>\r\n      </Tabs>\r\n\r\n      {error && <p style={{ color: \"#e92365\" }}>{error}</p>}\r\n\r\n      {tab === \"profile\" && user && (\r\n        <Section>\r\n          <h2>Edit details</h2>\r\n          <FormGroup>\r\n            <Label>Email</Label>\r\n            <Input value={editUser.email} onChange={e => setEditUser({ ...editUser, email: e.target.value })} />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Username</Label>\r\n            <Input value={editUser.username} onChange={e => setEditUser({ ...editUser, username: e.target.value })} />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Password</Label>\r\n            <Input type=\"password\" value={editUser.password} onChange={e => setEditUser({ ...editUser, password: e.target.value })} placeholder=\"Leave blank to keep unchanged\" />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>First Name</Label>\r\n            <Input value={editUser.firstName} onChange={e => setEditUser({ ...editUser, firstName: e.target.value })} />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Last Name</Label>\r\n            <Input value={editUser.lastName} onChange={e => setEditUser({ ...editUser, lastName: e.target.value })} />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Age</Label>\r\n            <Input type=\"number\" value={editUser.age} onChange={e => setEditUser({ ...editUser, age: e.target.value })} />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Role (read-only)</Label>\r\n            <Input value={user.role} disabled />\r\n          </FormGroup>\r\n          <SaveButton onClick={handleSave}>Save Changes</SaveButton>\r\n          <DeleteButton onClick={handleDelete}>Delete Account</DeleteButton>\r\n        </Section>\r\n      )}\r\n\r\n      {tab === \"bookings\" && (\r\n        <Section>\r\n          <h2>Upcoming & past trips</h2>\r\n          {bookings.length ? (\r\n            bookings.map(booking => (\r\n              <BookingCard key={booking.id}>\r\n                <h3>{booking.listing?.title || \"Unknown Listing\"} ({booking.type})</h3>\r\n                <p>Check-in: {booking.checkIn} | Check-out: {booking.checkOut}</p>\r\n                <p>Total: ${booking.listing?.price * (booking.numGuests || 1) || \"N/A\"}</p>\r\n                <p>Status: {booking.status}</p>\r\n                <ReviewInput\r\n                  value={newReview[booking.id] || \"\"}\r\n                  onChange={e => setNewReview({ ...newReview, [booking.id]: e.target.value })}\r\n                  placeholder=\"Add a review...\"\r\n                />\r\n                <SubmitReviewButton onClick={() => handleReviewSubmit(booking.id)}>Submit Review</SubmitReviewButton>\r\n                {reviews[booking.id] && reviews[booking.id].length > 0 && (\r\n                  <div>\r\n                    <h4>Reviews</h4>\r\n                    {reviews[booking.id].map(review => (\r\n                      <p key={review.id}>{review.comment}</p>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </BookingCard>\r\n            ))\r\n          ) : (\r\n            <p>You have no bookings yet.</p>\r\n          )}\r\n        </Section>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}