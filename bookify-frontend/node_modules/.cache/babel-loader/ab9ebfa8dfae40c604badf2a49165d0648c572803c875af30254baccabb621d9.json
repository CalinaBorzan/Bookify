{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calina\\\\Desktop\\\\ANUL3\\\\sem2\\\\SD\\\\proiect\\\\bookify-frontend\\\\src\\\\pages\\\\AccountPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/AccountPage.jsx\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\n/* ---------- styled bits (unchanged) ---------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`max-width:900px;margin:3rem auto;padding:0 1rem;`;\n_c = Wrapper;\nconst Tabs = styled.div`display:flex;gap:2rem;border-bottom:2px solid #e0e0e0;margin-bottom:2rem;`;\n_c2 = Tabs;\nconst Tab = styled.button`\n  background:none;border:none;font-size:1.1rem;font-weight:600;cursor:pointer;\n  padding:.6rem 0;color:${p => p.active === \"true\" ? \"#175dff\" : \"#777\"};\n  border-bottom:3px solid ${p => p.active === \"true\" ? \"#175dff\" : \"transparent\"};\n`;\n_c3 = Tab;\nconst Section = styled.div`animation:fade .3s;@keyframes fade{from{opacity:0}to{opacity:1}}`;\n_c4 = Section;\nconst FormGroup = styled.div`margin-bottom:1rem;`;\n_c5 = FormGroup;\nconst Label = styled.label`display:block;margin-bottom:0.3rem;color:#003b70;font-weight:600;`;\n_c6 = Label;\nconst Input = styled.input`width:100%;padding:0.6rem;border:1px solid #d1e0ff;border-radius:6px;`;\n_c7 = Input;\nconst SaveButton = styled.button`\n  padding:0.7rem 1.5rem;background:#175dff;color:#fff;border:none;border-radius:6px;cursor:pointer;\n  &:hover{background:#004bff;}\n`;\n_c8 = SaveButton;\nconst DeleteButton = styled.button`\n  padding:0.7rem 1.5rem;background:#e92365;color:#fff;border:none;border-radius:6px;cursor:pointer;margin-left:1rem;\n  &:hover{background:#ff6b9b;}\n`;\n_c9 = DeleteButton;\nconst BookingCard = styled.div`border:1px solid #e0e0e0;border-radius:6px;padding:1rem;margin-bottom:1rem;`;\n_c0 = BookingCard;\nconst ReviewInput = styled.textarea`width:100%;min-height:80px;padding:0.5rem;margin-top:0.5rem;`;\n_c1 = ReviewInput;\nconst SubmitReviewButton = styled.button`\n  padding:0.6rem 1.2rem;background:#28a745;color:#fff;border:none;border-radius:6px;margin-top:0.5rem;\n`;\n\n/* ---------- component ---------- */\n_c10 = SubmitReviewButton;\nexport default function AccountPage() {\n  _s();\n  const [tab, setTab] = useState(\"profile\");\n  const [user, setUser] = useState(null);\n  const [editUser, setEditUser] = useState({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    age: \"\"\n  });\n  const [bookings, setBookings] = useState([]); // all my bookings\n  const [reviews, setReviews] = useState({}); // reviews keyed by booking id\n  const [newReview, setNewReview] = useState({}); // textarea draft\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  /* ── 1. load profile & bookings on mount ───────────────────────── */\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      setError(\"No authentication token – please log in.\");\n      setLoading(false);\n      return;\n    }\n    const cfg = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n\n    // current user\n    axios.get(\"/api/users/me\", cfg).then(r => {\n      var _r$data$age$toString, _r$data$age;\n      setUser(r.data);\n      setEditUser({\n        email: r.data.email,\n        username: r.data.username,\n        password: \"Current password not shown (enter new password to change)\",\n        firstName: r.data.firstName,\n        lastName: r.data.lastName,\n        age: (_r$data$age$toString = (_r$data$age = r.data.age) === null || _r$data$age === void 0 ? void 0 : _r$data$age.toString()) !== null && _r$data$age$toString !== void 0 ? _r$data$age$toString : \"\"\n      });\n    }).catch(e => setError(\"Failed to load profile: \" + e.message));\n\n    // my bookings\n    axios.get(\"/api/bookings/me\", cfg).then(r => {\n      setBookings(r.data);\n      // load reviews for every booking\n      r.data.forEach(bk => axios.get(`/api/reviews/booking/${bk.id}`, cfg).then(res => setReviews(prev => ({\n        ...prev,\n        [bk.id]: res.data\n      }))).catch(() => {/* ignore individual failures */}));\n    }).catch(e => setError(\"Failed to load bookings: \" + e.message)).finally(() => setLoading(false));\n  }, []);\n\n  /* ── save profile (unchanged except minor tidy) ────────────────── */\n  const handleSave = () => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) return;\n    const payload = {\n      email: editUser.email,\n      username: editUser.username,\n      firstName: editUser.firstName,\n      lastName: editUser.lastName,\n      age: editUser.age ? parseInt(editUser.age, 10) : undefined\n    };\n    if (editUser.password.trim() && editUser.password !== \"Current password not shown (enter new password to change)\") {\n      payload.password = editUser.password;\n    }\n    axios.patch(\"/api/users/me\", payload, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(r => {\n      setUser(r.data);\n      alert(\"Profile updated!\");\n    }).catch(e => setError(\"Update failed: \" + e.message));\n  };\n\n  /* ── delete profile (unchanged) ─────────────────────────────────── */\n  const handleDelete = () => {\n    if (!window.confirm(\"Delete account permanently?\")) return;\n    const token = localStorage.getItem(\"jwt\");\n    axios.delete(\"/api/users/me\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      localStorage.removeItem(\"jwt\");\n      window.location.href = \"/\";\n    }).catch(e => setError(\"Delete failed: \" + e.message));\n  };\n\n  /* ── submit review for a booking ────────────────────────────────── */\n  const handleReviewSubmit = id => {\n    var _newReview$id;\n    const token = localStorage.getItem(\"jwt\");\n    const text = (_newReview$id = newReview[id]) !== null && _newReview$id !== void 0 ? _newReview$id : \"\";\n    if (!text.trim()) return;\n    axios.post(\"/api/reviews\", {\n      bookingId: id,\n      comment: text,\n      rating: 5\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(r => {\n      setReviews(prev => ({\n        ...prev,\n        [id]: [r.data, ...(prev[id] || [])]\n      }));\n      setNewReview(prev => ({\n        ...prev,\n        [id]: \"\"\n      }));\n    }).catch(e => setError(\"Review failed: \" + e.message));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        active: (tab === \"profile\").toString(),\n        onClick: () => setTab(\"profile\"),\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        active: (tab === \"bookings\").toString(),\n        onClick: () => setTab(\"bookings\"),\n        children: \"My bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#e92365\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }, this), tab === \"profile\" && user && /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.email,\n          onChange: e => setEditUser({\n            ...editUser,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.username,\n          onChange: e => setEditUser({\n            ...editUser,\n            username: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Password (enter new to change)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: editUser.password,\n          onChange: e => setEditUser({\n            ...editUser,\n            password: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"First name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.firstName,\n          onChange: e => setEditUser({\n            ...editUser,\n            firstName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Last name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: editUser.lastName,\n          onChange: e => setEditUser({\n            ...editUser,\n            lastName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Age\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"number\",\n          value: editUser.age,\n          onChange: e => setEditUser({\n            ...editUser,\n            age: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Role (read-only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: user.role,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SaveButton, {\n        onClick: handleSave,\n        children: \"Save changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n        onClick: handleDelete,\n        children: \"Delete account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this), tab === \"bookings\" && /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upcoming & past trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), bookings.length ? bookings.map(bk => {\n        var _bk$listing, _reviews$bk$id;\n        return /*#__PURE__*/_jsxDEV(BookingCard, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [((_bk$listing = bk.listing) === null || _bk$listing === void 0 ? void 0 : _bk$listing.title) || \"Unknown\", \" (\", bk.type, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-in: \", bk.checkIn, \" | Check-out: \", bk.checkOut]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Guests: \", bk.numGuests]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", bk.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReviewInput, {\n            placeholder: \"Add a review\\u2026\",\n            value: newReview[bk.id] || \"\",\n            onChange: e => setNewReview({\n              ...newReview,\n              [bk.id]: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SubmitReviewButton, {\n            onClick: () => handleReviewSubmit(bk.id),\n            children: \"Submit review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), ((_reviews$bk$id = reviews[bk.id]) === null || _reviews$bk$id === void 0 ? void 0 : _reviews$bk$id.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this), reviews[bk.id].map(rv => /*#__PURE__*/_jsxDEV(\"p\", {\n              children: rv.comment\n            }, rv.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this)]\n        }, bk.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You have no bookings yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n_s(AccountPage, \"i5OYUjpj66OjOlIbiYffMPNqP8g=\");\n_c11 = AccountPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Tabs\");\n$RefreshReg$(_c3, \"Tab\");\n$RefreshReg$(_c4, \"Section\");\n$RefreshReg$(_c5, \"FormGroup\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"Input\");\n$RefreshReg$(_c8, \"SaveButton\");\n$RefreshReg$(_c9, \"DeleteButton\");\n$RefreshReg$(_c0, \"BookingCard\");\n$RefreshReg$(_c1, \"ReviewInput\");\n$RefreshReg$(_c10, \"SubmitReviewButton\");\n$RefreshReg$(_c11, \"AccountPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","jsxDEV","_jsxDEV","Wrapper","div","_c","Tabs","_c2","Tab","button","p","active","_c3","Section","_c4","FormGroup","_c5","Label","label","_c6","Input","input","_c7","SaveButton","_c8","DeleteButton","_c9","BookingCard","_c0","ReviewInput","textarea","_c1","SubmitReviewButton","_c10","AccountPage","_s","tab","setTab","user","setUser","editUser","setEditUser","email","username","password","firstName","lastName","age","bookings","setBookings","reviews","setReviews","newReview","setNewReview","loading","setLoading","error","setError","token","localStorage","getItem","cfg","headers","Authorization","get","then","r","_r$data$age$toString","_r$data$age","data","toString","catch","e","message","forEach","bk","id","res","prev","finally","handleSave","payload","parseInt","undefined","trim","patch","alert","handleDelete","window","confirm","delete","removeItem","location","href","handleReviewSubmit","_newReview$id","text","post","bookingId","comment","rating","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","color","value","onChange","target","type","role","disabled","length","map","_bk$listing","_reviews$bk$id","listing","title","checkIn","checkOut","numGuests","status","placeholder","rv","_c11","$RefreshReg$"],"sources":["C:/Users/Calina/Desktop/ANUL3/sem2/SD/proiect/bookify-frontend/src/pages/AccountPage.jsx"],"sourcesContent":["// src/pages/AccountPage.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\n/* ---------- styled bits (unchanged) ---------- */\r\nconst Wrapper = styled.div`max-width:900px;margin:3rem auto;padding:0 1rem;`;\r\nconst Tabs    = styled.div`display:flex;gap:2rem;border-bottom:2px solid #e0e0e0;margin-bottom:2rem;`;\r\nconst Tab     = styled.button`\r\n  background:none;border:none;font-size:1.1rem;font-weight:600;cursor:pointer;\r\n  padding:.6rem 0;color:${p=>p.active===\"true\"?\"#175dff\":\"#777\"};\r\n  border-bottom:3px solid ${p=>p.active===\"true\"?\"#175dff\":\"transparent\"};\r\n`;\r\nconst Section = styled.div`animation:fade .3s;@keyframes fade{from{opacity:0}to{opacity:1}}`;\r\nconst FormGroup = styled.div`margin-bottom:1rem;`;\r\nconst Label = styled.label`display:block;margin-bottom:0.3rem;color:#003b70;font-weight:600;`;\r\nconst Input = styled.input`width:100%;padding:0.6rem;border:1px solid #d1e0ff;border-radius:6px;`;\r\nconst SaveButton = styled.button`\r\n  padding:0.7rem 1.5rem;background:#175dff;color:#fff;border:none;border-radius:6px;cursor:pointer;\r\n  &:hover{background:#004bff;}\r\n`;\r\nconst DeleteButton = styled.button`\r\n  padding:0.7rem 1.5rem;background:#e92365;color:#fff;border:none;border-radius:6px;cursor:pointer;margin-left:1rem;\r\n  &:hover{background:#ff6b9b;}\r\n`;\r\nconst BookingCard = styled.div`border:1px solid #e0e0e0;border-radius:6px;padding:1rem;margin-bottom:1rem;`;\r\nconst ReviewInput = styled.textarea`width:100%;min-height:80px;padding:0.5rem;margin-top:0.5rem;`;\r\nconst SubmitReviewButton = styled.button`\r\n  padding:0.6rem 1.2rem;background:#28a745;color:#fff;border:none;border-radius:6px;margin-top:0.5rem;\r\n`;\r\n\r\n/* ---------- component ---------- */\r\nexport default function AccountPage() {\r\n  const [tab, setTab] = useState(\"profile\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  const [editUser, setEditUser] = useState({\r\n    email:\"\", username:\"\", password:\"\",\r\n    firstName:\"\", lastName:\"\", age:\"\"\r\n  });\r\n\r\n  const [bookings, setBookings] = useState([]);      // all my bookings\r\n  const [reviews , setReviews ] = useState({});      // reviews keyed by booking id\r\n  const [newReview, setNewReview] = useState({});    // textarea draft\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error  , setError  ] = useState(null);\r\n\r\n  /* ── 1. load profile & bookings on mount ───────────────────────── */\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if (!token) {\r\n      setError(\"No authentication token – please log in.\"); setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const cfg = { headers:{ Authorization:`Bearer ${token}` } };\r\n\r\n    // current user\r\n    axios.get(\"/api/users/me\", cfg)\r\n      .then(r => {\r\n        setUser(r.data);\r\n        setEditUser({\r\n          email:r.data.email, username:r.data.username,\r\n          password:\"Current password not shown (enter new password to change)\",\r\n          firstName:r.data.firstName, lastName:r.data.lastName,\r\n          age: r.data.age?.toString() ?? \"\"\r\n        });\r\n      })\r\n      .catch(e => setError(\"Failed to load profile: \"+e.message));\r\n\r\n    // my bookings\r\n    axios.get(\"/api/bookings/me\", cfg)\r\n      .then(r => {\r\n        setBookings(r.data);\r\n        // load reviews for every booking\r\n        r.data.forEach(bk =>\r\n          axios.get(`/api/reviews/booking/${bk.id}`, cfg)\r\n               .then(res => setReviews(prev => ({ ...prev, [bk.id]: res.data })))\r\n               .catch(() => {/* ignore individual failures */})\r\n        );\r\n      })\r\n      .catch(e => setError(\"Failed to load bookings: \"+e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  /* ── save profile (unchanged except minor tidy) ────────────────── */\r\n  const handleSave = () => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if(!token) return;\r\n\r\n    const payload = {\r\n      email:editUser.email, username:editUser.username,\r\n      firstName:editUser.firstName, lastName:editUser.lastName,\r\n      age:editUser.age ? parseInt(editUser.age,10):undefined\r\n    };\r\n    if (editUser.password.trim() &&\r\n        editUser.password!==\"Current password not shown (enter new password to change)\") {\r\n      payload.password = editUser.password;\r\n    }\r\n\r\n    axios.patch(\"/api/users/me\", payload, { headers:{Authorization:`Bearer ${token}`}})\r\n         .then(r=>{ setUser(r.data); alert(\"Profile updated!\"); })\r\n         .catch(e=> setError(\"Update failed: \"+e.message));\r\n  };\r\n\r\n  /* ── delete profile (unchanged) ─────────────────────────────────── */\r\n  const handleDelete = () => {\r\n    if(!window.confirm(\"Delete account permanently?\")) return;\r\n    const token = localStorage.getItem(\"jwt\");\r\n    axios.delete(\"/api/users/me\", { headers:{Authorization:`Bearer ${token}`}})\r\n         .then(()=>{ localStorage.removeItem(\"jwt\"); window.location.href=\"/\"; })\r\n         .catch(e=> setError(\"Delete failed: \"+e.message));\r\n  };\r\n\r\n  /* ── submit review for a booking ────────────────────────────────── */\r\n  const handleReviewSubmit = id => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    const text  = newReview[id] ?? \"\";\r\n    if(!text.trim()) return;\r\n\r\n    axios.post(\"/api/reviews\",\r\n      { bookingId:id, comment:text, rating:5 },\r\n      { headers:{Authorization:`Bearer ${token}`}})\r\n      .then(r => {\r\n        setReviews(prev => ({ ...prev, [id]: [r.data, ...(prev[id]||[])] }));\r\n        setNewReview(prev => ({ ...prev, [id]:\"\" }));\r\n      })\r\n      .catch(e => setError(\"Review failed: \"+e.message));\r\n  };\r\n\r\n  if (loading) return <p>Loading…</p>;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <h1>My account</h1>\r\n\r\n      <Tabs>\r\n        <Tab active={(tab===\"profile\").toString()}  onClick={()=>setTab(\"profile\")}>Profile</Tab>\r\n        <Tab active={(tab===\"bookings\").toString()} onClick={()=>setTab(\"bookings\")}>My bookings</Tab>\r\n      </Tabs>\r\n\r\n      {error && <p style={{color:\"#e92365\"}}>{error}</p>}\r\n\r\n      {/* ---------- PROFILE TAB ---------- */}\r\n      {tab===\"profile\" && user && (\r\n        <Section>\r\n          {/* form inputs … unchanged from your version */}\r\n          {/* email */}\r\n          <FormGroup><Label>Email</Label>\r\n            <Input value={editUser.email}\r\n                   onChange={e=>setEditUser({...editUser,email:e.target.value})}/>\r\n          </FormGroup>\r\n\r\n          {/* username */}\r\n          <FormGroup><Label>Username</Label>\r\n            <Input value={editUser.username}\r\n                   onChange={e=>setEditUser({...editUser,username:e.target.value})}/>\r\n          </FormGroup>\r\n\r\n          {/* password */}\r\n          <FormGroup><Label>Password (enter new to change)</Label>\r\n            <Input type=\"text\" value={editUser.password}\r\n                   onChange={e=>setEditUser({...editUser,password:e.target.value})}/>\r\n          </FormGroup>\r\n\r\n          {/* first / last / age */}\r\n          <FormGroup><Label>First name</Label>\r\n            <Input value={editUser.firstName}\r\n                   onChange={e=>setEditUser({...editUser,firstName:e.target.value})}/>\r\n          </FormGroup>\r\n          <FormGroup><Label>Last name</Label>\r\n            <Input value={editUser.lastName}\r\n                   onChange={e=>setEditUser({...editUser,lastName:e.target.value})}/>\r\n          </FormGroup>\r\n          <FormGroup><Label>Age</Label>\r\n            <Input type=\"number\" value={editUser.age}\r\n                   onChange={e=>setEditUser({...editUser,age:e.target.value})}/>\r\n          </FormGroup>\r\n\r\n          <FormGroup><Label>Role (read-only)</Label>\r\n            <Input value={user.role} disabled/>\r\n          </FormGroup>\r\n\r\n          <SaveButton   onClick={handleSave}>Save changes</SaveButton>\r\n          <DeleteButton onClick={handleDelete}>Delete account</DeleteButton>\r\n        </Section>\r\n      )}\r\n\r\n      {/* ---------- BOOKINGS TAB ---------- */}\r\n      {tab===\"bookings\" && (\r\n        <Section>\r\n          <h2>Upcoming & past trips</h2>\r\n\r\n          {bookings.length ? bookings.map(bk=>(\r\n            <BookingCard key={bk.id}>\r\n              <h3>{bk.listing?.title || \"Unknown\"} ({bk.type})</h3>\r\n              <p>Check-in: {bk.checkIn} | Check-out: {bk.checkOut}</p>\r\n              <p>Guests: {bk.numGuests}</p>\r\n              <p>Status: {bk.status}</p>\r\n\r\n              {/* review composer */}\r\n              <ReviewInput placeholder=\"Add a review…\"\r\n                value={newReview[bk.id]||\"\"}\r\n                onChange={e=>setNewReview({...newReview,[bk.id]:e.target.value})}/>\r\n              <SubmitReviewButton onClick={()=>handleReviewSubmit(bk.id)}>\r\n                Submit review\r\n              </SubmitReviewButton>\r\n\r\n              {/* existing reviews */}\r\n              {reviews[bk.id]?.length>0 && (\r\n                <div>\r\n                  <h4>Reviews</h4>\r\n                  {reviews[bk.id].map(rv=>(\r\n                    <p key={rv.id}>{rv.comment}</p>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </BookingCard>\r\n          )) : <p>You have no bookings yet.</p>}\r\n        </Section>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}