{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calina\\\\Desktop\\\\ANUL3\\\\sem2\\\\SD\\\\proiect\\\\bookify-frontend\\\\src\\\\pages\\\\CountryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport axios from \"axios\";\nimport { DateRange } from \"react-date-range\";\nimport { addDays, format, isSameDay, isWithinInterval, parseISO } from \"date-fns\";\nimport \"react-date-range/dist/styles.css\";\nimport \"react-date-range/dist/theme/default.css\";\n\n/* ---------- destination images (same as HomePage) ---------- */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst destinations = [{\n  c: \"FR\",\n  n: \"France\",\n  img: \"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&auto=format\"\n}, {\n  c: \"ES\",\n  n: \"Spain\",\n  img: \"/destinations/barcelona.jpg\"\n}, {\n  c: \"IT\",\n  n: \"Italy\",\n  img: \"/destinations/italy.jpg\"\n}, {\n  c: \"GR\",\n  n: \"Greece\",\n  img: \"/destinations/greece.jpg\"\n}, {\n  c: \"JP\",\n  n: \"Japan\",\n  img: \"/destinations/japan.jpg\"\n}, {\n  c: \"US\",\n  n: \"USA\",\n  img: \"/destinations/usa.jpg\"\n}, {\n  c: \"BR\",\n  n: \"Brazil\",\n  img: \"/destinations/brazil.jpg\"\n}, {\n  c: \"TH\",\n  n: \"Thailand\",\n  img: \"/destinations/thailand.jpg\"\n}];\n\n/* ---------- utils ---------- */\nconst toJsDate = s => {\n  if (!s) return null;\n  try {\n    return s.includes(\"T\") ? parseISO(s) : parseISO(s.replace(\" \", \"T\"));\n  } catch (e) {\n    console.error(`Invalid date format: ${s}`, e);\n    return null;\n  }\n};\nconst nightsBetween = (a, b) => Math.max(1, Math.round((b - a) / 864e5));\nconst fmt = d => format(d, \"d MMM\");\n\n/* ---------- styled bits ---------- */\nconst fade = keyframes`from{opacity:0}to{opacity:1}`;\nconst Hero = styled.section`\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.45)), url(${p => p.$img}) center/cover;\n  height: 270px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.6rem;\n  font-weight: 800;\n  text-transform: uppercase;\n  color: #fff;\n  text-shadow: 0 3px 12px #000a;\n`;\n_c = Hero;\nconst Filters = styled.div`\n  width: 92%;\n  max-width: 1200px;\n  margin: -48px auto 3rem;\n  animation: ${fade} 0.4s;\n  background: rgba(255, 255, 255, 0.68);\n  backdrop-filter: blur(16px);\n  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.14);\n  border-radius: 22px;\n  padding: 1.6rem 2rem;\n  display: grid;\n  gap: 1.2rem;\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n  label {\n    font-weight: 600;\n    color: #003b70;\n    font-size: 0.9rem;\n    display: flex;\n    flex-direction: column;\n  }\n  input,\n  select {\n    margin-top: 0.45rem;\n    padding: 0.5rem 0.75rem;\n    font-size: 0.88rem;\n    border: 1px solid #b5c9ff;\n    border-radius: 12px;\n    background: #edf3ff;\n  }\n  .datePicker {\n    grid-column: 1/-1;\n  }\n  .rdrCalendarWrapper {\n    box-shadow: none;\n  }\n`;\n_c2 = Filters;\nconst Grid = styled.section`\n  display: grid;\n  gap: 2.2rem;\n  animation: ${fade} 0.5s;\n  max-width: 1440px;\n  margin: 0 auto 4rem;\n  padding: 0 3rem;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n`;\n_c3 = Grid;\nconst Card = styled.div`\n  cursor: pointer;\n  border-radius: 24px;\n  overflow: hidden;\n  position: relative;\n  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.14);\n  transition: 0.3s;\n  &:hover {\n    transform: translateY(-8px) scale(1.03);\n    box-shadow: 0 16px 34px rgba(0, 0, 0, 0.22);\n  }\n`;\n_c4 = Card;\nconst Thumb = styled.img`\n  width: 100%;\n  height: 220px;\n  object-fit: cover;\n`;\n_c5 = Thumb;\nconst Glass = styled.div`\n  position: absolute;\n  inset: auto 0 0 0;\n  background: rgba(255, 255, 255, 0.78);\n  backdrop-filter: blur(15px);\n  padding: 1.25rem 1.5rem;\n`;\n_c6 = Glass;\nconst Title = styled.h3`\n  margin: 0 0 0.4rem;\n  font-size: 1.15rem;\n  color: #003b70;\n`;\n_c7 = Title;\nconst Row = styled.p`\n  margin: 0.12rem 0;\n  font-size: 0.9rem;\n  color: #42526e;\n  line-height: 1.33;\n`;\n_c8 = Row;\nconst Chip = styled.span`\n  display: inline-block;\n  font-size: 0.68rem;\n  font-weight: 700;\n  color: #fff;\n  padding: 0.15rem 0.6rem;\n  border-radius: 999px;\n  margin-right: 0.4rem;\n  background: ${p => p.bg};\n`;\n_c9 = Chip;\nconst Price = styled.div`\n  font-weight: 700;\n  font-size: 1.06rem;\n  color: #175dff;\n  margin-top: 0.5rem;\n`;\n_c0 = Price;\nconst Empty = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #003b70;\n`;\n_c1 = Empty;\nconst ErrorMessage = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #e92365;\n`;\n_c10 = ErrorMessage;\nconst Loading = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #003b70;\n`;\n\n/* ---------- component ---------- */\n_c11 = Loading;\nexport default function CountryPage() {\n  _s();\n  var _destinations$find;\n  const {\n    code\n  } = useParams(); // e.g., \"FR\"\n  const navigate = useNavigate();\n\n  /* calendar default → tomorrow .. +7d */\n  const [range, setRange] = useState([{\n    key: \"selection\",\n    color: \"#175dff\",\n    startDate: addDays(new Date(), 1),\n    endDate: addDays(new Date(), 8)\n  }]);\n  const [guests, setGuests] = useState(2);\n  const [stars, setStars] = useState(\"ANY\");\n  const [hotels, setHotels] = useState([]);\n  const [flights, setFlights] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  /* load data */\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const cfg = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n          }\n        };\n        const [h, f, e] = await Promise.all([axios.get(\"/api/listings/hotels\", cfg).catch(e => ({\n          data: []\n        })), axios.get(\"/api/listings/flights\", cfg).catch(e => ({\n          data: []\n        })), axios.get(\"/api/listings/events\", cfg).catch(e => ({\n          data: []\n        }))]);\n\n        /* convert date strings to Date objects */\n        setHotels(h.data.map(o => ({\n          ...o,\n          pricePerNight: o.price,\n          availableFrom: toJsDate(o.availableFrom),\n          availableTo: toJsDate(o.availableTo)\n        })).filter(o => o.availableFrom && o.availableTo));\n        setFlights(f.data.map(o => ({\n          ...o,\n          departureTime: toJsDate(o.departureTime),\n          arrivalTime: toJsDate(o.arrivalTime)\n        })).filter(o => o.departureTime && o.arrivalTime));\n        setEvents(e.data.map(o => ({\n          ...o,\n          eventDate: toJsDate(o.eventDate)\n        })).filter(o => o.eventDate));\n      } catch (err) {\n        setError(\"Failed to load packages. Please try again later.\");\n        console.error(\"API Error:\", err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  /* compute bundles */\n  const bundles = useMemo(() => {\n    const [{\n      startDate: from,\n      endDate: to\n    }] = range;\n    if (!from || !to) return [];\n    const nights = nightsBetween(from, to);\n    const hs = hotels.filter(h => h.country === code && (stars === \"ANY\" || (h.starRating || 0) >= +stars) && h.totalRooms >= guests && h.availableFrom <= from && h.availableTo >= to);\n    const fs = flights.filter(f => f.country === code && f.seatCapacity >= guests && isSameDay(f.departureTime, from) && isSameDay(f.arrivalTime, to));\n    const es = events.filter(ev => ev.country === code && ev.ticketCapacity >= guests && isWithinInterval(ev.eventDate, {\n      start: from,\n      end: to\n    }));\n    const out = [];\n    hs.forEach(h => fs.forEach(f => es.forEach(ev => {\n      var _ref, _ref2, _h$photoUrl;\n      out.push({\n        id: `${h.id}-${f.id}-${ev.id}`,\n        hotel: h,\n        flight: f,\n        event: ev,\n        nights,\n        window: `${fmt(from)} – ${fmt(to)}`,\n        total: nights * h.pricePerNight + f.price + ev.price,\n        thumb: (_ref = (_ref2 = (_h$photoUrl = h.photoUrl) !== null && _h$photoUrl !== void 0 ? _h$photoUrl : ev.photoUrl) !== null && _ref2 !== void 0 ? _ref2 : f.photoUrl) !== null && _ref !== void 0 ? _ref : \"https://via.placeholder.com/400x250\"\n      });\n    })));\n    return out.sort((a, b) => a.total - b.total).slice(0, 40);\n  }, [code, range, guests, stars, hotels, flights, events]);\n\n  /* hero image (same as HomePage) */\n  const heroImg = ((_destinations$find = destinations.find(d => d.c === code)) === null || _destinations$find === void 0 ? void 0 : _destinations$find.img) || `https://source.unsplash.com/1600x600/?${code},landmark`;\n\n  /* ---------- render ---------- */\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      $img: heroImg,\n      children: code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"datePicker\",\n        children: [\"Dates\", /*#__PURE__*/_jsxDEV(DateRange, {\n          ranges: range,\n          onChange: r => setRange([{\n            ...r.selection,\n            color: \"#175dff\"\n          }]),\n          moveRangeOnFirstSelection: false,\n          rangeColors: [\"#175dff\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Travellers\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: 1,\n          max: 10,\n          value: guests,\n          onChange: e => setGuests(Math.max(1, Math.min(10, +e.target.value || 1)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Hotel rating\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: stars,\n          onChange: e => setStars(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ANY\",\n            children: \"Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"3\\u2605 +\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4\",\n            children: \"4\\u2605 +\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {\n        children: \"Loading packages...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this) : bundles.length ? bundles.map(b => /*#__PURE__*/_jsxDEV(Card, {\n        onClick: () => navigate(`/packages/${b.id}`, {\n          state: b\n        }),\n        children: [/*#__PURE__*/_jsxDEV(Thumb, {\n          src: b.thumb,\n          alt: b.hotel.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Glass, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: b.hotel.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [\"\\uD83D\\uDDD3 \", b.window, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 32\n            }, this), b.nights, \" nights \\xB7 \", b.hotel.city, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 53\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              bg: \"#175dff\",\n              children: [\"\\u2708 \", b.flight.airline]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              bg: \"#e92365\",\n              children: [\"\\uD83C\\uDFAB \", b.event.title.length > 18 ? b.event.title.slice(0, 18) + \"…\" : b.event.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Price, {\n            children: [\"\\u20AC \", b.total.toFixed(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }, this)]\n      }, b.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(Empty, {\n        children: \"No bundles match your filters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CountryPage, \"16Tqwp2N+NRc8dVEX+ZfXQs6PWk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c12 = CountryPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"Hero\");\n$RefreshReg$(_c2, \"Filters\");\n$RefreshReg$(_c3, \"Grid\");\n$RefreshReg$(_c4, \"Card\");\n$RefreshReg$(_c5, \"Thumb\");\n$RefreshReg$(_c6, \"Glass\");\n$RefreshReg$(_c7, \"Title\");\n$RefreshReg$(_c8, \"Row\");\n$RefreshReg$(_c9, \"Chip\");\n$RefreshReg$(_c0, \"Price\");\n$RefreshReg$(_c1, \"Empty\");\n$RefreshReg$(_c10, \"ErrorMessage\");\n$RefreshReg$(_c11, \"Loading\");\n$RefreshReg$(_c12, \"CountryPage\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","useNavigate","styled","keyframes","axios","DateRange","addDays","format","isSameDay","isWithinInterval","parseISO","jsxDEV","_jsxDEV","Fragment","_Fragment","destinations","c","n","img","toJsDate","s","includes","replace","e","console","error","nightsBetween","a","b","Math","max","round","fmt","d","fade","Hero","section","p","$img","_c","Filters","div","_c2","Grid","_c3","Card","_c4","Thumb","_c5","Glass","_c6","Title","h3","_c7","Row","_c8","Chip","span","bg","_c9","Price","_c0","Empty","_c1","ErrorMessage","_c10","Loading","_c11","CountryPage","_s","_destinations$find","code","navigate","range","setRange","key","color","startDate","Date","endDate","guests","setGuests","stars","setStars","hotels","setHotels","flights","setFlights","events","setEvents","loading","setLoading","setError","cfg","headers","Authorization","localStorage","getItem","h","f","Promise","all","get","catch","data","map","o","pricePerNight","price","availableFrom","availableTo","filter","departureTime","arrivalTime","eventDate","err","bundles","from","to","nights","hs","country","starRating","totalRooms","fs","seatCapacity","es","ev","ticketCapacity","start","end","out","forEach","_ref","_ref2","_h$photoUrl","push","id","hotel","flight","event","window","total","thumb","photoUrl","sort","slice","heroImg","find","children","fileName","_jsxFileName","lineNumber","columnNumber","className","ranges","onChange","r","selection","moveRangeOnFirstSelection","rangeColors","type","min","value","target","length","onClick","state","src","alt","title","city","airline","toFixed","_c12","$RefreshReg$"],"sources":["C:/Users/Calina/Desktop/ANUL3/sem2/SD/proiect/bookify-frontend/src/pages/CountryPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport { addDays, format, isSameDay, isWithinInterval, parseISO } from \"date-fns\";\r\nimport \"react-date-range/dist/styles.css\";\r\nimport \"react-date-range/dist/theme/default.css\";\r\n\r\n/* ---------- destination images (same as HomePage) ---------- */\r\nconst destinations = [\r\n  { c: \"FR\", n: \"France\", img: \"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&auto=format\" },\r\n  { c: \"ES\", n: \"Spain\", img: \"/destinations/barcelona.jpg\" },\r\n  { c: \"IT\", n: \"Italy\", img: \"/destinations/italy.jpg\" },\r\n  { c: \"GR\", n: \"Greece\", img: \"/destinations/greece.jpg\" },\r\n  { c: \"JP\", n: \"Japan\", img: \"/destinations/japan.jpg\" },\r\n  { c: \"US\", n: \"USA\", img: \"/destinations/usa.jpg\" },\r\n  { c: \"BR\", n: \"Brazil\", img: \"/destinations/brazil.jpg\" },\r\n  { c: \"TH\", n: \"Thailand\", img: \"/destinations/thailand.jpg\" },\r\n];\r\n\r\n/* ---------- utils ---------- */\r\nconst toJsDate = (s) => {\r\n  if (!s) return null;\r\n  try {\r\n    return s.includes(\"T\") ? parseISO(s) : parseISO(s.replace(\" \", \"T\"));\r\n  } catch (e) {\r\n    console.error(`Invalid date format: ${s}`, e);\r\n    return null;\r\n  }\r\n};\r\nconst nightsBetween = (a, b) => Math.max(1, Math.round((b - a) / 864e5));\r\nconst fmt = (d) => format(d, \"d MMM\");\r\n\r\n/* ---------- styled bits ---------- */\r\nconst fade = keyframes`from{opacity:0}to{opacity:1}`;\r\n\r\nconst Hero = styled.section`\r\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.45)), url(${p => p.$img}) center/cover;\r\n  height: 270px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 2.6rem;\r\n  font-weight: 800;\r\n  text-transform: uppercase;\r\n  color: #fff;\r\n  text-shadow: 0 3px 12px #000a;\r\n`;\r\n\r\nconst Filters = styled.div`\r\n  width: 92%;\r\n  max-width: 1200px;\r\n  margin: -48px auto 3rem;\r\n  animation: ${fade} 0.4s;\r\n  background: rgba(255, 255, 255, 0.68);\r\n  backdrop-filter: blur(16px);\r\n  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.14);\r\n  border-radius: 22px;\r\n  padding: 1.6rem 2rem;\r\n  display: grid;\r\n  gap: 1.2rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\r\n  label {\r\n    font-weight: 600;\r\n    color: #003b70;\r\n    font-size: 0.9rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  input,\r\n  select {\r\n    margin-top: 0.45rem;\r\n    padding: 0.5rem 0.75rem;\r\n    font-size: 0.88rem;\r\n    border: 1px solid #b5c9ff;\r\n    border-radius: 12px;\r\n    background: #edf3ff;\r\n  }\r\n  .datePicker {\r\n    grid-column: 1/-1;\r\n  }\r\n  .rdrCalendarWrapper {\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nconst Grid = styled.section`\r\n  display: grid;\r\n  gap: 2.2rem;\r\n  animation: ${fade} 0.5s;\r\n  max-width: 1440px;\r\n  margin: 0 auto 4rem;\r\n  padding: 0 3rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n`;\r\n\r\nconst Card = styled.div`\r\n  cursor: pointer;\r\n  border-radius: 24px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.14);\r\n  transition: 0.3s;\r\n  &:hover {\r\n    transform: translateY(-8px) scale(1.03);\r\n    box-shadow: 0 16px 34px rgba(0, 0, 0, 0.22);\r\n  }\r\n`;\r\n\r\nconst Thumb = styled.img`\r\n  width: 100%;\r\n  height: 220px;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst Glass = styled.div`\r\n  position: absolute;\r\n  inset: auto 0 0 0;\r\n  background: rgba(255, 255, 255, 0.78);\r\n  backdrop-filter: blur(15px);\r\n  padding: 1.25rem 1.5rem;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  margin: 0 0 0.4rem;\r\n  font-size: 1.15rem;\r\n  color: #003b70;\r\n`;\r\n\r\nconst Row = styled.p`\r\n  margin: 0.12rem 0;\r\n  font-size: 0.9rem;\r\n  color: #42526e;\r\n  line-height: 1.33;\r\n`;\r\n\r\nconst Chip = styled.span`\r\n  display: inline-block;\r\n  font-size: 0.68rem;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  padding: 0.15rem 0.6rem;\r\n  border-radius: 999px;\r\n  margin-right: 0.4rem;\r\n  background: ${p => p.bg};\r\n`;\r\n\r\nconst Price = styled.div`\r\n  font-weight: 700;\r\n  font-size: 1.06rem;\r\n  color: #175dff;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst Empty = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #003b70;\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #e92365;\r\n`;\r\n\r\nconst Loading = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #003b70;\r\n`;\r\n\r\n/* ---------- component ---------- */\r\nexport default function CountryPage() {\r\n  const { code } = useParams(); // e.g., \"FR\"\r\n  const navigate = useNavigate();\r\n\r\n  /* calendar default → tomorrow .. +7d */\r\n  const [range, setRange] = useState([{\r\n    key: \"selection\",\r\n    color: \"#175dff\",\r\n    startDate: addDays(new Date(), 1),\r\n    endDate: addDays(new Date(), 8),\r\n  }]);\r\n  const [guests, setGuests] = useState(2);\r\n  const [stars, setStars] = useState(\"ANY\");\r\n  const [hotels, setHotels] = useState([]);\r\n  const [flights, setFlights] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  /* load data */\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const cfg = { headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` } };\r\n        const [h, f, e] = await Promise.all([\r\n          axios.get(\"/api/listings/hotels\", cfg).catch(e => ({ data: [] })),\r\n          axios.get(\"/api/listings/flights\", cfg).catch(e => ({ data: [] })),\r\n          axios.get(\"/api/listings/events\", cfg).catch(e => ({ data: [] })),\r\n        ]);\r\n\r\n        /* convert date strings to Date objects */\r\n        setHotels(h.data.map(o => ({\r\n          ...o,\r\n          pricePerNight: o.price,\r\n          availableFrom: toJsDate(o.availableFrom),\r\n          availableTo: toJsDate(o.availableTo),\r\n        })).filter(o => o.availableFrom && o.availableTo));\r\n\r\n        setFlights(f.data.map(o => ({\r\n          ...o,\r\n          departureTime: toJsDate(o.departureTime),\r\n          arrivalTime: toJsDate(o.arrivalTime),\r\n        })).filter(o => o.departureTime && o.arrivalTime));\r\n\r\n        setEvents(e.data.map(o => ({\r\n          ...o,\r\n          eventDate: toJsDate(o.eventDate),\r\n        })).filter(o => o.eventDate));\r\n      } catch (err) {\r\n        setError(\"Failed to load packages. Please try again later.\");\r\n        console.error(\"API Error:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  /* compute bundles */\r\n  const bundles = useMemo(() => {\r\n    const [{ startDate: from, endDate: to }] = range;\r\n    if (!from || !to) return [];\r\n\r\n    const nights = nightsBetween(from, to);\r\n\r\n    const hs = hotels.filter(h =>\r\n      h.country === code &&\r\n      (stars === \"ANY\" || (h.starRating || 0) >= +stars) &&\r\n      h.totalRooms >= guests &&\r\n      h.availableFrom <= from && h.availableTo >= to\r\n    );\r\n\r\n    const fs = flights.filter(f =>\r\n      f.country === code &&\r\n      f.seatCapacity >= guests &&\r\n      isSameDay(f.departureTime, from) && isSameDay(f.arrivalTime, to)\r\n    );\r\n\r\n    const es = events.filter(ev =>\r\n      ev.country === code &&\r\n      ev.ticketCapacity >= guests &&\r\n      isWithinInterval(ev.eventDate, { start: from, end: to })\r\n    );\r\n\r\n    const out = [];\r\n    hs.forEach(h => fs.forEach(f => es.forEach(ev => {\r\n      out.push({\r\n        id: `${h.id}-${f.id}-${ev.id}`,\r\n        hotel: h,\r\n        flight: f,\r\n        event: ev,\r\n        nights,\r\n        window: `${fmt(from)} – ${fmt(to)}`,\r\n        total: nights * h.pricePerNight + f.price + ev.price,\r\n        thumb: h.photoUrl ?? ev.photoUrl ?? f.photoUrl ?? \"https://via.placeholder.com/400x250\",\r\n      });\r\n    })));\r\n    return out.sort((a, b) => a.total - b.total).slice(0, 40);\r\n  }, [code, range, guests, stars, hotels, flights, events]);\r\n\r\n  /* hero image (same as HomePage) */\r\n  const heroImg = destinations.find(d => d.c === code)?.img || `https://source.unsplash.com/1600x600/?${code},landmark`;\r\n\r\n  /* ---------- render ---------- */\r\n  return (\r\n    <>\r\n      <Hero $img={heroImg}>{code}</Hero>\r\n\r\n      <Filters>\r\n        <label className=\"datePicker\">\r\n          Dates\r\n          <DateRange\r\n            ranges={range}\r\n            onChange={r => setRange([{ ...r.selection, color: \"#175dff\" }])}\r\n            moveRangeOnFirstSelection={false}\r\n            rangeColors={[\"#175dff\"]}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Travellers\r\n          <input\r\n            type=\"number\"\r\n            min={1}\r\n            max={10}\r\n            value={guests}\r\n            onChange={e => setGuests(Math.max(1, Math.min(10, +e.target.value || 1)))}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Hotel rating\r\n          <select value={stars} onChange={e => setStars(e.target.value)}>\r\n            <option value=\"ANY\">Any</option>\r\n            <option value=\"3\">3★ +</option>\r\n            <option value=\"4\">4★ +</option>\r\n            <option value=\"5\">5★</option>\r\n          </select>\r\n        </label>\r\n      </Filters>\r\n\r\n      <Grid>\r\n        {loading ? (\r\n          <Loading>Loading packages...</Loading>\r\n        ) : error ? (\r\n          <ErrorMessage>{error}</ErrorMessage>\r\n        ) : bundles.length ? (\r\n          bundles.map(b => (\r\n            <Card key={b.id} onClick={() => navigate(`/packages/${b.id}`, { state: b })}>\r\n              <Thumb src={b.thumb} alt={b.hotel.title} />\r\n              <Glass>\r\n                <Title>{b.hotel.title}</Title>\r\n                <Row>\r\n                  🗓 {b.window}<br />\r\n                  {b.nights} nights · {b.hotel.city}<br />\r\n                  <Chip bg=\"#175dff\">✈ {b.flight.airline}</Chip>\r\n                  <Chip bg=\"#e92365\">\r\n                    🎫 {b.event.title.length > 18 ? b.event.title.slice(0, 18) + \"…\" : b.event.title}\r\n                  </Chip>\r\n                </Row>\r\n                <Price>€ {b.total.toFixed(0)}</Price>\r\n              </Glass>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <Empty>No bundles match your filters.</Empty>\r\n        )}\r\n      </Grid>\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}