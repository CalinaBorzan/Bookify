{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calina\\\\Desktop\\\\ANUL3\\\\sem2\\\\SD\\\\proiect\\\\bookify-frontend\\\\src\\\\pages\\\\CountryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport axios from \"axios\";\nimport { DateRange } from \"react-date-range\";\nimport { addDays, format, isWithinInterval, parseISO, differenceInDays, min, max } from \"date-fns\";\nimport \"react-date-range/dist/styles.css\";\nimport \"react-date-range/dist/theme/default.css\";\n\n/* ---------- destination images (same as HomePage) ---------- */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst destinations = [{\n  c: \"FR\",\n  n: \"France\",\n  img: \"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=1600&auto=format&q=80\"\n}, {\n  c: \"ES\",\n  n: \"Spain\",\n  img: \"/destinations/barcelona.jpg\"\n}, {\n  c: \"IT\",\n  n: \"Italy\",\n  img: \"/destinations/italy.jpg\"\n}, {\n  c: \"GR\",\n  n: \"Greece\",\n  img: \"/destinations/greece.jpg\"\n}, {\n  c: \"JP\",\n  n: \"Japan\",\n  img: \"/destinations/japan.jpg\"\n}, {\n  c: \"US\",\n  n: \"USA\",\n  img: \"/destinations/usa.jpg\"\n}, {\n  c: \"BR\",\n  n: \"Brazil\",\n  img: \"/destinations/brazil.jpg\"\n}, {\n  c: \"TH\",\n  n: \"Thailand\",\n  img: \"/destinations/thailand.jpg\"\n}];\n\n/* ---------- utils ---------- */\nconst toJsDate = s => {\n  if (!s) return null;\n  try {\n    return s.includes(\"T\") ? parseISO(s) : parseISO(s.replace(\" \", \"T\"));\n  } catch (e) {\n    console.error(`Invalid date format: ${s}`, e);\n    return null;\n  }\n};\nconst nightsBetween = (start, end) => {\n  if (!start || !end) return 1;\n  return Math.max(1, Math.round(differenceInDays(end, start)));\n};\nconst fmt = d => format(d, \"d MMM yyyy\");\nconst getHotelStayRange = (from, to, availableFrom, availableTo, maxNights = 14) => {\n  if (!from || !to || !availableFrom || !availableTo) return {\n    start: from,\n    end: to,\n    nights: 1\n  };\n  const start = max([from, availableFrom]);\n  const maxEnd = min([to, availableTo]);\n  const earliestEnd = addDays(start, maxNights);\n  const end = min([maxEnd, earliestEnd]);\n  const nights = nightsBetween(start, end);\n  return {\n    start,\n    end,\n    nights\n  };\n};\nconst getEventStayRange = (eventDate, from, to, availableFrom, availableTo, maxNights = 14) => {\n  if (!eventDate || !from || !to || !availableFrom || !availableTo) return {\n    start: from,\n    end: to,\n    nights: 1\n  };\n  const halfNights = Math.floor(maxNights / 2);\n  let start = addDays(eventDate, -halfNights);\n  let end = addDays(start, maxNights);\n  start = max([start, from, availableFrom]);\n  end = min([end, to, availableTo]);\n  const nights = nightsBetween(start, end);\n  return {\n    start,\n    end,\n    nights\n  };\n};\n\n/* ---------- styled bits ---------- */\nconst fadeIn = keyframes`from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}`;\nconst Hero = styled.section`\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${p => p.$img}) center/cover no-repeat;\n  height: 300px;\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.8rem;\n  font-weight: 800;\n  text-transform: uppercase;\n  color: #fff;\n  text-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);\n  margin: 0 1rem;\n  @media (max-width: 768px) {\n    height: 200px;\n    font-size: 2rem;\n  }\n`;\n_c = Hero;\nconst Filters = styled.div`\n  width: 90%;\n  max-width: 1000px;\n  margin: -60px auto 2rem;\n  background: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(10px);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n  border-radius: 16px;\n  padding: 1.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  align-items: center;\n  justify-content: center;\n  animation: ${fadeIn} 0.5s ease-out;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    margin: -40px auto 1.5rem;\n    padding: 1rem;\n  }\n`;\n_c2 = Filters;\nconst FilterItem = styled.label`\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n  color: #003b70;\n  font-size: 0.95rem;\n  flex: 1;\n  min-width: 160px;\n  max-width: 200px;\n  input,\n  select {\n    margin-top: 0.5rem;\n    padding: 0.7rem 1rem;\n    font-size: 1rem;\n    border: 1px solid #d1e0ff;\n    border-radius: 10px;\n    background: #f7faff;\n    transition: all 0.3s ease;\n    &:hover {\n      border-color: #175dff;\n      transform: scale(1.02);\n    }\n    &:focus {\n      outline: none;\n      border-color: #175dff;\n      box-shadow: 0 0 8px rgba(23, 93, 255, 0.3);\n    }\n  }\n`;\n_c3 = FilterItem;\nconst CalendarWrapper = styled.div`\n  flex: 2;\n  max-width: 600px;\n  margin: 0 auto;\n  .rdrCalendarWrapper {\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    background: #fff;\n  }\n  .rdrDefinedRangesWrapper {\n    display: none;\n  }\n  .rdrDayHovered {\n    background: #e6f0ff;\n  }\n  .rdrDayStartOfMonth,\n  .rdrDayEndOfMonth {\n    color: #175dff;\n  }\n  @media (max-width: 768px) {\n    max-width: 100%;\n  }\n`;\n_c4 = CalendarWrapper;\nconst Grid = styled.section`\n  display: grid;\n  gap: 1.5rem;\n  max-width: 1200px;\n  margin: 0 auto 3rem;\n  padding: 0 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  animation: ${fadeIn} 0.6s ease-out;\n`;\n_c5 = Grid;\nconst Card = styled.div`\n  cursor: pointer;\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  background: #fff;\n  &:hover {\n    transform: translateY(-6px);\n    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);\n  }\n`;\n_c6 = Card;\nconst Banner = styled.div`\n  height: 180px;\n  background: ${p => p.$gradient};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n  border-bottom: 2px solid #e6f0ff;\n  position: relative;\n`;\n_c7 = Banner;\nconst BannerIcon = styled.span`\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  font-size: 2rem;\n`;\n_c8 = BannerIcon;\nconst BannerTitle = styled.h3`\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 700;\n  color: #fff;\n  text-align: center;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  line-height: 1.4;\n`;\n_c9 = BannerTitle;\nconst Glass = styled.div`\n  padding: 1rem 1.2rem;\n`;\n_c0 = Glass;\nconst Row = styled.p`\n  margin: 0.15rem 0;\n  font-size: 0.9rem;\n  color: #42526e;\n  line-height: 1.4;\n`;\n_c1 = Row;\nconst Chip = styled.span`\n  display: inline-block;\n  font-size: 0.7rem;\n  font-weight: 700;\n  color: #fff;\n  padding: 0.2rem 0.7rem;\n  border-radius: 12px;\n  margin-right: 0.5rem;\n  background: ${p => p.$bg};\n`;\n_c10 = Chip;\nconst Price = styled.div`\n  font-weight: 700;\n  font-size: 1.1rem;\n  color: #175dff;\n  margin-top: 0.5rem;\n`;\n_c11 = Price;\nconst Empty = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #003b70;\n  font-size: 1.1rem;\n`;\n_c12 = Empty;\nconst ErrorMessage = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #e92365;\n  font-size: 1.1rem;\n`;\n_c13 = ErrorMessage;\nconst Loading = styled.p`\n  grid-column: 1/-1;\n  text-align: center;\n  font-weight: 600;\n  color: #003b70;\n  font-size: 1.1rem;\n`;\n\n/* ---------- component ---------- */\n_c14 = Loading;\nexport default function CountryPage() {\n  _s();\n  var _destinations$find;\n  const {\n    code\n  } = useParams();\n  const navigate = useNavigate();\n\n  /* calendar default ‚Üí tomorrow .. +7d */\n  const [range, setRange] = useState([{\n    key: \"selection\",\n    color: \"#175dff\",\n    startDate: addDays(new Date(), 1),\n    endDate: addDays(new Date(), 8)\n  }]);\n  const [guests, setGuests] = useState(2);\n  const [stars, setStars] = useState(\"ANY\");\n  const [hotels, setHotels] = useState([]);\n  const [flights, setFlights] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  /* load data */\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const cfg = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n          }\n        };\n        const [h, f, e] = await Promise.all([axios.get(\"/api/listings/hotels\", cfg).catch(e => {\n          console.error(\"Hotels API error:\", e);\n          return {\n            data: []\n          };\n        }), axios.get(\"/api/listings/flights\", cfg).catch(e => {\n          console.error(\"Flights API error:\", e);\n          return {\n            data: []\n          };\n        }), axios.get(\"/api/listings/events\", cfg).catch(e => {\n          console.error(\"Events API error:\", e);\n          return {\n            data: []\n          };\n        })]);\n        console.log(\"Raw API Data:\", {\n          hotels: h.data,\n          flights: f.data,\n          events: e.data\n        });\n        const validHotels = h.data.map(o => ({\n          ...o,\n          pricePerNight: o.price,\n          availableFrom: toJsDate(o.availableFrom),\n          availableTo: toJsDate(o.availableTo)\n        })).filter(o => o.availableFrom && o.availableTo && o.country);\n        const validFlights = f.data.map(o => ({\n          ...o,\n          departureTime: toJsDate(o.departureTime),\n          arrivalTime: toJsDate(o.arrivalTime)\n        })).filter(o => o.departureTime && o.arrivalTime && o.country);\n        const validEvents = e.data.map(o => ({\n          ...o,\n          eventDate: toJsDate(o.eventDate)\n        })).filter(o => o.eventDate && o.country);\n        console.log(\"Filtered Data:\", {\n          hotels: validHotels,\n          flights: validFlights,\n          events: validEvents\n        });\n        setHotels(validHotels);\n        setFlights(validFlights);\n        setEvents(validEvents);\n      } catch (err) {\n        setError(\"Failed to load packages. Please check your connection or try again later.\");\n        console.error(\"API Fetch Error:\", err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  /* compute bundles */\n  const bundles = useMemo(() => {\n    const [{\n      startDate: from,\n      endDate: to\n    }] = range;\n    if (!from || !to) {\n      console.log(\"Invalid date range:\", {\n        from,\n        to\n      });\n      return [];\n    }\n\n    /* filter hotels: exact star rating match */\n    const hs = hotels.filter(h => {\n      const matchCountry = h.country === code;\n      const matchStars = stars === \"ANY\" || h.starRating === +stars;\n      const matchGuests = h.totalRooms >= guests;\n      const matchDates = isWithinInterval(h.availableFrom, {\n        start: from,\n        end: to\n      }) || isWithinInterval(h.availableTo, {\n        start: from,\n        end: to\n      }) || h.availableFrom <= from && h.availableTo >= to;\n      return matchCountry && matchStars && matchGuests && matchDates;\n    });\n\n    /* filter flights: departure and arrival within range */\n    const fs = flights.filter(f => {\n      const matchCountry = f.country === code;\n      const matchGuests = f.seatCapacity >= guests;\n      const matchDates = isWithinInterval(f.departureTime, {\n        start: from,\n        end: to\n      }) && isWithinInterval(f.arrivalTime, {\n        start: from,\n        end: to\n      });\n      return matchCountry && matchGuests && matchDates;\n    });\n\n    /* filter events: event date within range */\n    const es = events.filter(ev => {\n      const matchCountry = ev.country === code;\n      const matchGuests = ev.ticketCapacity >= guests;\n      const matchDate = isWithinInterval(ev.eventDate, {\n        start: from,\n        end: to\n      });\n      return matchCountry && matchGuests && matchDate;\n    });\n    console.log(\"Filtered for\", code, \":\", {\n      hotels: hs,\n      flights: fs,\n      events: es\n    });\n\n    /* create bundles: prioritize flight-driven packages */\n    const out = [];\n\n    /* flight-based bundles: hotel + flight, hotel + flight + event */\n    fs.forEach(f => {\n      const fNights = nightsBetween(f.departureTime, f.arrivalTime);\n      hs.forEach(h => {\n        if (h.availableFrom <= f.departureTime && h.availableTo >= f.arrivalTime) {\n          // Hotel + Flight\n          out.push({\n            id: `h${h.id}-f${f.id}`,\n            hotel: h,\n            flight: f,\n            event: null,\n            nights: fNights,\n            window: `${fmt(f.departureTime)} ‚Äì ${fmt(f.arrivalTime)}`,\n            total: fNights * h.pricePerNight + f.price\n          });\n\n          // Hotel + Flight + Event\n          es.forEach(ev => {\n            if (isWithinInterval(ev.eventDate, {\n              start: f.departureTime,\n              end: f.arrivalTime\n            })) {\n              out.push({\n                id: `h${h.id}-f${f.id}-e${ev.id}`,\n                hotel: h,\n                flight: f,\n                event: ev,\n                nights: fNights,\n                window: `${fmt(f.departureTime)} ‚Äì ${fmt(f.arrivalTime)}`,\n                total: fNights * h.pricePerNight + f.price + ev.price\n              });\n            }\n          });\n        }\n      });\n    });\n\n    /* hotel-only bundles: max 14 nights */\n    hs.forEach(h => {\n      const {\n        start: hStart,\n        end: hEnd,\n        nights: hNights\n      } = getHotelStayRange(from, to, h.availableFrom, h.availableTo);\n      out.push({\n        id: `h${h.id}`,\n        hotel: h,\n        flight: null,\n        event: null,\n        nights: hNights,\n        window: `${fmt(hStart)} ‚Äì ${fmt(hEnd)}`,\n        total: hNights * h.pricePerNight\n      });\n    });\n\n    /* hotel + event bundles: center around event date, max 14 nights */\n    hs.forEach(h => {\n      es.forEach(ev => {\n        const {\n          start: eStart,\n          end: eEnd,\n          nights: eNights\n        } = getEventStayRange(ev.eventDate, from, to, h.availableFrom, h.availableTo);\n        out.push({\n          id: `h${h.id}-e${ev.id}`,\n          hotel: h,\n          flight: null,\n          event: ev,\n          nights: eNights,\n          window: `${fmt(eStart)} ‚Äì ${fmt(eEnd)}`,\n          total: eNights * h.pricePerNight + ev.price\n        });\n      });\n    });\n    console.log(\"Generated Bundles:\", out.map(b => ({\n      id: b.id,\n      total: b.total,\n      nights: b.nights,\n      window: b.window,\n      starRating: b.hotel.starRating\n    })));\n    return out.sort((a, b) => a.total - b.total).slice(0, 40);\n  }, [code, range, guests, stars, hotels, flights, events]);\n\n  /* hero image (same as HomePage) */\n  const heroImg = ((_destinations$find = destinations.find(d => d.c === code)) === null || _destinations$find === void 0 ? void 0 : _destinations$find.img) || `https://source.unsplash.com/1600x600/?${code},landmark`;\n\n  /* ---------- render ---------- */\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      $img: heroImg,\n      children: code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      children: [/*#__PURE__*/_jsxDEV(CalendarWrapper, {\n        children: /*#__PURE__*/_jsxDEV(DateRange, {\n          ranges: range,\n          onChange: r => setRange([{\n            ...r.selection,\n            color: \"#175dff\"\n          }]),\n          moveRangeOnFirstSelection: false,\n          rangeColors: [\"#175dff\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        children: [\"Travellers\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: 1,\n          max: 10,\n          value: guests,\n          onChange: e => setGuests(Math.max(1, Math.min(10, +e.target.value || 1)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        children: [\"Hotel rating\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: stars,\n          onChange: e => setStars(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ANY\",\n            children: \"Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"3\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4\",\n            children: \"4\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {\n        children: \"Loading packages...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this) : bundles.length ? bundles.map(b => {\n        const hasFlight = !!b.flight;\n        const hasEvent = !!b.event;\n        const gradient = hasFlight ? hasEvent ? \"linear-gradient(135deg, #175dff, #e92365)\" // Flight + Event\n        : \"linear-gradient(135deg, #175dff, #4b9bff)\" // Flight\n        : hasEvent ? \"linear-gradient(135deg, #e92365, #ff6b9b)\" // Event\n        : \"linear-gradient(135deg, #003b70, #4b9bff)\"; // Hotel only\n        const icon = hasFlight ? \"‚úà\" : hasEvent ? \"üé´\" : \"üè®\";\n        return /*#__PURE__*/_jsxDEV(Card, {\n          onClick: () => navigate(`/packages/${b.id}`, {\n            state: b\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Banner, {\n            $gradient: gradient,\n            children: [/*#__PURE__*/_jsxDEV(BannerIcon, {\n              children: icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(BannerTitle, {\n              children: b.hotel.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Glass, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [\"\\uD83D\\uDDD3 \", b.window, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 21\n              }, this), b.nights, \" nights \\xB7 \", b.hotel.city, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this), b.flight && /*#__PURE__*/_jsxDEV(Chip, {\n                $bg: \"#175dff\",\n                children: [\"\\u2708 \", b.flight.airline]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 34\n              }, this), b.event && /*#__PURE__*/_jsxDEV(Chip, {\n                $bg: \"#e92365\",\n                children: [\"\\uD83C\\uDFAB \", b.event.title.length > 18 ? b.event.title.slice(0, 18) + \"‚Ä¶\" : b.event.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Price, {\n              children: [\"\\u20AC \", b.total.toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 17\n          }, this)]\n        }, b.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 15\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Empty, {\n        children: \"No bundles match your filters. Try adjusting dates or filters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CountryPage, \"HoPzQB+7jY243FE0jtj9GKVlmDE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c15 = CountryPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15;\n$RefreshReg$(_c, \"Hero\");\n$RefreshReg$(_c2, \"Filters\");\n$RefreshReg$(_c3, \"FilterItem\");\n$RefreshReg$(_c4, \"CalendarWrapper\");\n$RefreshReg$(_c5, \"Grid\");\n$RefreshReg$(_c6, \"Card\");\n$RefreshReg$(_c7, \"Banner\");\n$RefreshReg$(_c8, \"BannerIcon\");\n$RefreshReg$(_c9, \"BannerTitle\");\n$RefreshReg$(_c0, \"Glass\");\n$RefreshReg$(_c1, \"Row\");\n$RefreshReg$(_c10, \"Chip\");\n$RefreshReg$(_c11, \"Price\");\n$RefreshReg$(_c12, \"Empty\");\n$RefreshReg$(_c13, \"ErrorMessage\");\n$RefreshReg$(_c14, \"Loading\");\n$RefreshReg$(_c15, \"CountryPage\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","useNavigate","styled","keyframes","axios","DateRange","addDays","format","isWithinInterval","parseISO","differenceInDays","min","max","jsxDEV","_jsxDEV","Fragment","_Fragment","destinations","c","n","img","toJsDate","s","includes","replace","e","console","error","nightsBetween","start","end","Math","round","fmt","d","getHotelStayRange","from","to","availableFrom","availableTo","maxNights","nights","maxEnd","earliestEnd","getEventStayRange","eventDate","halfNights","floor","fadeIn","Hero","section","p","$img","_c","Filters","div","_c2","FilterItem","label","_c3","CalendarWrapper","_c4","Grid","_c5","Card","_c6","Banner","$gradient","_c7","BannerIcon","span","_c8","BannerTitle","h3","_c9","Glass","_c0","Row","_c1","Chip","$bg","_c10","Price","_c11","Empty","_c12","ErrorMessage","_c13","Loading","_c14","CountryPage","_s","_destinations$find","code","navigate","range","setRange","key","color","startDate","Date","endDate","guests","setGuests","stars","setStars","hotels","setHotels","flights","setFlights","events","setEvents","loading","setLoading","setError","cfg","headers","Authorization","localStorage","getItem","h","f","Promise","all","get","catch","data","log","validHotels","map","o","pricePerNight","price","filter","country","validFlights","departureTime","arrivalTime","validEvents","err","bundles","hs","matchCountry","matchStars","starRating","matchGuests","totalRooms","matchDates","fs","seatCapacity","es","ev","ticketCapacity","matchDate","out","forEach","fNights","push","id","hotel","flight","event","window","total","hStart","hEnd","hNights","eStart","eEnd","eNights","b","sort","a","slice","heroImg","find","children","fileName","_jsxFileName","lineNumber","columnNumber","ranges","onChange","r","selection","moveRangeOnFirstSelection","rangeColors","type","value","target","length","hasFlight","hasEvent","gradient","icon","onClick","state","title","city","airline","toFixed","_c15","$RefreshReg$"],"sources":["C:/Users/Calina/Desktop/ANUL3/sem2/SD/proiect/bookify-frontend/src/pages/CountryPage.jsx"],"sourcesContent":["\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport { addDays, format, isWithinInterval, parseISO, differenceInDays, min, max } from \"date-fns\";\r\nimport \"react-date-range/dist/styles.css\";\r\nimport \"react-date-range/dist/theme/default.css\";\r\n\r\n/* ---------- destination images (same as HomePage) ---------- */\r\nconst destinations = [\r\n  { c: \"FR\", n: \"France\", img: \"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=1600&auto=format&q=80\" },\r\n  { c: \"ES\", n: \"Spain\", img: \"/destinations/barcelona.jpg\" },\r\n  { c: \"IT\", n: \"Italy\", img: \"/destinations/italy.jpg\" },\r\n  { c: \"GR\", n: \"Greece\", img: \"/destinations/greece.jpg\" },\r\n  { c: \"JP\", n: \"Japan\", img: \"/destinations/japan.jpg\" },\r\n  { c: \"US\", n: \"USA\", img: \"/destinations/usa.jpg\" },\r\n  { c: \"BR\", n: \"Brazil\", img: \"/destinations/brazil.jpg\" },\r\n  { c: \"TH\", n: \"Thailand\", img: \"/destinations/thailand.jpg\" },\r\n];\r\n\r\n/* ---------- utils ---------- */\r\nconst toJsDate = (s) => {\r\n  if (!s) return null;\r\n  try {\r\n    return s.includes(\"T\") ? parseISO(s) : parseISO(s.replace(\" \", \"T\"));\r\n  } catch (e) {\r\n    console.error(`Invalid date format: ${s}`, e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst nightsBetween = (start, end) => {\r\n  if (!start || !end) return 1;\r\n  return Math.max(1, Math.round(differenceInDays(end, start)));\r\n};\r\n\r\nconst fmt = (d) => format(d, \"d MMM yyyy\");\r\n\r\nconst getHotelStayRange = (from, to, availableFrom, availableTo, maxNights = 14) => {\r\n  if (!from || !to || !availableFrom || !availableTo) return { start: from, end: to, nights: 1 };\r\n  const start = max([from, availableFrom]);\r\n  const maxEnd = min([to, availableTo]);\r\n  const earliestEnd = addDays(start, maxNights);\r\n  const end = min([maxEnd, earliestEnd]);\r\n  const nights = nightsBetween(start, end);\r\n  return { start, end, nights };\r\n};\r\n\r\nconst getEventStayRange = (eventDate, from, to, availableFrom, availableTo, maxNights = 14) => {\r\n  if (!eventDate || !from || !to || !availableFrom || !availableTo) return { start: from, end: to, nights: 1 };\r\n  const halfNights = Math.floor(maxNights / 2);\r\n  let start = addDays(eventDate, -halfNights);\r\n  let end = addDays(start, maxNights);\r\n  start = max([start, from, availableFrom]);\r\n  end = min([end, to, availableTo]);\r\n  const nights = nightsBetween(start, end);\r\n  return { start, end, nights };\r\n};\r\n\r\n/* ---------- styled bits ---------- */\r\nconst fadeIn = keyframes`from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}`;\r\n\r\nconst Hero = styled.section`\r\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${p => p.$img}) center/cover no-repeat;\r\n  height: 300px;\r\n  border-radius: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 2.8rem;\r\n  font-weight: 800;\r\n  text-transform: uppercase;\r\n  color: #fff;\r\n  text-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);\r\n  margin: 0 1rem;\r\n  @media (max-width: 768px) {\r\n    height: 200px;\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n\r\nconst Filters = styled.div`\r\n  width: 90%;\r\n  max-width: 1000px;\r\n  margin: -60px auto 2rem;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  backdrop-filter: blur(10px);\r\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\r\n  border-radius: 16px;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: ${fadeIn} 0.5s ease-out;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    margin: -40px auto 1.5rem;\r\n    padding: 1rem;\r\n  }\r\n`;\r\n\r\nconst FilterItem = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-weight: 600;\r\n  color: #003b70;\r\n  font-size: 0.95rem;\r\n  flex: 1;\r\n  min-width: 160px;\r\n  max-width: 200px;\r\n  input,\r\n  select {\r\n    margin-top: 0.5rem;\r\n    padding: 0.7rem 1rem;\r\n    font-size: 1rem;\r\n    border: 1px solid #d1e0ff;\r\n    border-radius: 10px;\r\n    background: #f7faff;\r\n    transition: all 0.3s ease;\r\n    &:hover {\r\n      border-color: #175dff;\r\n      transform: scale(1.02);\r\n    }\r\n    &:focus {\r\n      outline: none;\r\n      border-color: #175dff;\r\n      box-shadow: 0 0 8px rgba(23, 93, 255, 0.3);\r\n    }\r\n  }\r\n`;\r\n\r\nconst CalendarWrapper = styled.div`\r\n  flex: 2;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  .rdrCalendarWrapper {\r\n    border-radius: 12px;\r\n    overflow: hidden;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n    background: #fff;\r\n  }\r\n  .rdrDefinedRangesWrapper {\r\n    display: none;\r\n  }\r\n  .rdrDayHovered {\r\n    background: #e6f0ff;\r\n  }\r\n  .rdrDayStartOfMonth,\r\n  .rdrDayEndOfMonth {\r\n    color: #175dff;\r\n  }\r\n  @media (max-width: 768px) {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nconst Grid = styled.section`\r\n  display: grid;\r\n  gap: 1.5rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto 3rem;\r\n  padding: 0 1.5rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  animation: ${fadeIn} 0.6s ease-out;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  cursor: pointer;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  background: #fff;\r\n  &:hover {\r\n    transform: translateY(-6px);\r\n    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);\r\n  }\r\n`;\r\n\r\nconst Banner = styled.div`\r\n  height: 180px;\r\n  background: ${p => p.$gradient};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n  border-bottom: 2px solid #e6f0ff;\r\n  position: relative;\r\n`;\r\n\r\nconst BannerIcon = styled.span`\r\n  position: absolute;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  font-size: 2rem;\r\n`;\r\n\r\nconst BannerTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 1.2rem;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  text-align: center;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst Glass = styled.div`\r\n  padding: 1rem 1.2rem;\r\n`;\r\n\r\nconst Row = styled.p`\r\n  margin: 0.15rem 0;\r\n  font-size: 0.9rem;\r\n  color: #42526e;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst Chip = styled.span`\r\n  display: inline-block;\r\n  font-size: 0.7rem;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  padding: 0.2rem 0.7rem;\r\n  border-radius: 12px;\r\n  margin-right: 0.5rem;\r\n  background: ${p => p.$bg};\r\n`;\r\n\r\nconst Price = styled.div`\r\n  font-weight: 700;\r\n  font-size: 1.1rem;\r\n  color: #175dff;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst Empty = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #003b70;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #e92365;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst Loading = styled.p`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #003b70;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\n/* ---------- component ---------- */\r\nexport default function CountryPage() {\r\n  const { code } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  /* calendar default ‚Üí tomorrow .. +7d */\r\n  const [range, setRange] = useState([\r\n    {\r\n      key: \"selection\",\r\n      color: \"#175dff\",\r\n      startDate: addDays(new Date(), 1),\r\n      endDate: addDays(new Date(), 8),\r\n    },\r\n  ]);\r\n  const [guests, setGuests] = useState(2);\r\n  const [stars, setStars] = useState(\"ANY\");\r\n  const [hotels, setHotels] = useState([]);\r\n  const [flights, setFlights] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  /* load data */\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const cfg = { headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` } };\r\n        const [h, f, e] = await Promise.all([\r\n          axios.get(\"/api/listings/hotels\", cfg).catch((e) => {\r\n            console.error(\"Hotels API error:\", e);\r\n            return { data: [] };\r\n          }),\r\n          axios.get(\"/api/listings/flights\", cfg).catch((e) => {\r\n            console.error(\"Flights API error:\", e);\r\n            return { data: [] };\r\n          }),\r\n          axios.get(\"/api/listings/events\", cfg).catch((e) => {\r\n            console.error(\"Events API error:\", e);\r\n            return { data: [] };\r\n          }),\r\n        ]);\r\n\r\n        console.log(\"Raw API Data:\", { hotels: h.data, flights: f.data, events: e.data });\r\n\r\n        const validHotels = h.data\r\n          .map((o) => ({\r\n            ...o,\r\n            pricePerNight: o.price,\r\n            availableFrom: toJsDate(o.availableFrom),\r\n            availableTo: toJsDate(o.availableTo),\r\n          }))\r\n          .filter((o) => o.availableFrom && o.availableTo && o.country);\r\n        const validFlights = f.data\r\n          .map((o) => ({\r\n            ...o,\r\n            departureTime: toJsDate(o.departureTime),\r\n            arrivalTime: toJsDate(o.arrivalTime),\r\n          }))\r\n          .filter((o) => o.departureTime && o.arrivalTime && o.country);\r\n        const validEvents = e.data\r\n          .map((o) => ({\r\n            ...o,\r\n            eventDate: toJsDate(o.eventDate),\r\n          }))\r\n          .filter((o) => o.eventDate && o.country);\r\n\r\n        console.log(\"Filtered Data:\", {\r\n          hotels: validHotels,\r\n          flights: validFlights,\r\n          events: validEvents,\r\n        });\r\n\r\n        setHotels(validHotels);\r\n        setFlights(validFlights);\r\n        setEvents(validEvents);\r\n      } catch (err) {\r\n        setError(\"Failed to load packages. Please check your connection or try again later.\");\r\n        console.error(\"API Fetch Error:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  /* compute bundles */\r\n  const bundles = useMemo(() => {\r\n    const [{ startDate: from, endDate: to }] = range;\r\n    if (!from || !to) {\r\n      console.log(\"Invalid date range:\", { from, to });\r\n      return [];\r\n    }\r\n\r\n    /* filter hotels: exact star rating match */\r\n    const hs = hotels.filter((h) => {\r\n      const matchCountry = h.country === code;\r\n      const matchStars = stars === \"ANY\" || h.starRating === +stars;\r\n      const matchGuests = h.totalRooms >= guests;\r\n      const matchDates =\r\n        isWithinInterval(h.availableFrom, { start: from, end: to }) ||\r\n        isWithinInterval(h.availableTo, { start: from, end: to }) ||\r\n        (h.availableFrom <= from && h.availableTo >= to);\r\n      return matchCountry && matchStars && matchGuests && matchDates;\r\n    });\r\n\r\n    /* filter flights: departure and arrival within range */\r\n    const fs = flights.filter((f) => {\r\n      const matchCountry = f.country === code;\r\n      const matchGuests = f.seatCapacity >= guests;\r\n      const matchDates =\r\n        isWithinInterval(f.departureTime, { start: from, end: to }) &&\r\n        isWithinInterval(f.arrivalTime, { start: from, end: to });\r\n      return matchCountry && matchGuests && matchDates;\r\n    });\r\n\r\n    /* filter events: event date within range */\r\n    const es = events.filter((ev) => {\r\n      const matchCountry = ev.country === code;\r\n      const matchGuests = ev.ticketCapacity >= guests;\r\n      const matchDate = isWithinInterval(ev.eventDate, { start: from, end: to });\r\n      return matchCountry && matchGuests && matchDate;\r\n    });\r\n\r\n    console.log(\"Filtered for\", code, \":\", { hotels: hs, flights: fs, events: es });\r\n\r\n    /* create bundles: prioritize flight-driven packages */\r\n    const out = [];\r\n\r\n    /* flight-based bundles: hotel + flight, hotel + flight + event */\r\n    fs.forEach((f) => {\r\n      const fNights = nightsBetween(f.departureTime, f.arrivalTime);\r\n      hs.forEach((h) => {\r\n        if (h.availableFrom <= f.departureTime && h.availableTo >= f.arrivalTime) {\r\n          // Hotel + Flight\r\n          out.push({\r\n            id: `h${h.id}-f${f.id}`,\r\n            hotel: h,\r\n            flight: f,\r\n            event: null,\r\n            nights: fNights,\r\n            window: `${fmt(f.departureTime)} ‚Äì ${fmt(f.arrivalTime)}`,\r\n            total: fNights * h.pricePerNight + f.price,\r\n          });\r\n\r\n          // Hotel + Flight + Event\r\n          es.forEach((ev) => {\r\n            if (isWithinInterval(ev.eventDate, { start: f.departureTime, end: f.arrivalTime })) {\r\n              out.push({\r\n                id: `h${h.id}-f${f.id}-e${ev.id}`,\r\n                hotel: h,\r\n                flight: f,\r\n                event: ev,\r\n                nights: fNights,\r\n                window: `${fmt(f.departureTime)} ‚Äì ${fmt(f.arrivalTime)}`,\r\n                total: fNights * h.pricePerNight + f.price + ev.price,\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    /* hotel-only bundles: max 14 nights */\r\n    hs.forEach((h) => {\r\n      const { start: hStart, end: hEnd, nights: hNights } = getHotelStayRange(\r\n        from,\r\n        to,\r\n        h.availableFrom,\r\n        h.availableTo\r\n      );\r\n      out.push({\r\n        id: `h${h.id}`,\r\n        hotel: h,\r\n        flight: null,\r\n        event: null,\r\n        nights: hNights,\r\n        window: `${fmt(hStart)} ‚Äì ${fmt(hEnd)}`,\r\n        total: hNights * h.pricePerNight,\r\n      });\r\n    });\r\n\r\n    /* hotel + event bundles: center around event date, max 14 nights */\r\n    hs.forEach((h) => {\r\n      es.forEach((ev) => {\r\n        const { start: eStart, end: eEnd, nights: eNights } = getEventStayRange(\r\n          ev.eventDate,\r\n          from,\r\n          to,\r\n          h.availableFrom,\r\n          h.availableTo\r\n        );\r\n        out.push({\r\n          id: `h${h.id}-e${ev.id}`,\r\n          hotel: h,\r\n          flight: null,\r\n          event: ev,\r\n          nights: eNights,\r\n          window: `${fmt(eStart)} ‚Äì ${fmt(eEnd)}`,\r\n          total: eNights * h.pricePerNight + ev.price,\r\n        });\r\n      });\r\n    });\r\n\r\n    console.log(\r\n      \"Generated Bundles:\",\r\n      out.map((b) => ({\r\n        id: b.id,\r\n        total: b.total,\r\n        nights: b.nights,\r\n        window: b.window,\r\n        starRating: b.hotel.starRating,\r\n      }))\r\n    );\r\n\r\n    return out.sort((a, b) => a.total - b.total).slice(0, 40);\r\n  }, [code, range, guests, stars, hotels, flights, events]);\r\n\r\n  /* hero image (same as HomePage) */\r\n  const heroImg =\r\n    destinations.find((d) => d.c === code)?.img ||\r\n    `https://source.unsplash.com/1600x600/?${code},landmark`;\r\n\r\n  /* ---------- render ---------- */\r\n  return (\r\n    <>\r\n      <Hero $img={heroImg}>{code}</Hero>\r\n\r\n      <Filters>\r\n        <CalendarWrapper>\r\n          <DateRange\r\n            ranges={range}\r\n            onChange={(r) => setRange([{ ...r.selection, color: \"#175dff\" }])}\r\n            moveRangeOnFirstSelection={false}\r\n            rangeColors={[\"#175dff\"]}\r\n          />\r\n        </CalendarWrapper>\r\n\r\n        <FilterItem>\r\n          Travellers\r\n          <input\r\n            type=\"number\"\r\n            min={1}\r\n            max={10}\r\n            value={guests}\r\n            onChange={(e) => setGuests(Math.max(1, Math.min(10, +e.target.value || 1)))}\r\n          />\r\n        </FilterItem>\r\n\r\n        <FilterItem>\r\n          Hotel rating\r\n          <select value={stars} onChange={(e) => setStars(e.target.value)}>\r\n            <option value=\"ANY\">Any</option>\r\n            <option value=\"3\">3‚òÖ</option>\r\n            <option value=\"4\">4‚òÖ</option>\r\n            <option value=\"5\">5‚òÖ</option>\r\n          </select>\r\n        </FilterItem>\r\n      </Filters>\r\n\r\n      <Grid>\r\n        {loading ? (\r\n          <Loading>Loading packages...</Loading>\r\n        ) : error ? (\r\n          <ErrorMessage>{error}</ErrorMessage>\r\n        ) : bundles.length ? (\r\n          bundles.map((b) => {\r\n            const hasFlight = !!b.flight;\r\n            const hasEvent = !!b.event;\r\n            const gradient = hasFlight\r\n              ? hasEvent\r\n                ? \"linear-gradient(135deg, #175dff, #e92365)\" // Flight + Event\r\n                : \"linear-gradient(135deg, #175dff, #4b9bff)\" // Flight\r\n              : hasEvent\r\n              ? \"linear-gradient(135deg, #e92365, #ff6b9b)\" // Event\r\n              : \"linear-gradient(135deg, #003b70, #4b9bff)\"; // Hotel only\r\n            const icon = hasFlight ? \"‚úà\" : hasEvent ? \"üé´\" : \"üè®\";\r\n\r\n            return (\r\n              <Card key={b.id} onClick={() => navigate(`/packages/${b.id}`, { state: b })}>\r\n                <Banner $gradient={gradient}>\r\n                  <BannerIcon>{icon}</BannerIcon>\r\n                  <BannerTitle>{b.hotel.title}</BannerTitle>\r\n                </Banner>\r\n                <Glass>\r\n                  <Row>\r\n                    üóì {b.window}\r\n                    <br />\r\n                    {b.nights} nights ¬∑ {b.hotel.city}\r\n                    <br />\r\n                    {b.flight && <Chip $bg=\"#175dff\">‚úà {b.flight.airline}</Chip>}\r\n                    {b.event && (\r\n                      <Chip $bg=\"#e92365\">\r\n                        üé´ {b.event.title.length > 18 ? b.event.title.slice(0, 18) + \"‚Ä¶\" : b.event.title}\r\n                      </Chip>\r\n                    )}\r\n                  </Row>\r\n                  <Price>‚Ç¨ {b.total.toFixed(0)}</Price>\r\n                </Glass>\r\n              </Card>\r\n            );\r\n          })\r\n        ) : (\r\n          <Empty>No bundles match your filters. Try adjusting dates or filters.</Empty>\r\n        )}\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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BIF,UAAU;AA8BhB,MAAMG,eAAe,GAAG1D,MAAM,CAACqD,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAvBID,eAAe;AAyBrB,MAAME,IAAI,GAAG5D,MAAM,CAACgD,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAeF,MAAM;AACrB,CAAC;AAACe,GAAA,GARID,IAAI;AAUV,MAAME,IAAI,GAAG9D,MAAM,CAACqD,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAZID,IAAI;AAcV,MAAME,MAAM,GAAGhE,MAAM,CAACqD,GAAG;AACzB;AACA,gBAAgBJ,CAAC,IAAIA,CAAC,CAACgB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GATIF,MAAM;AAWZ,MAAMG,UAAU,GAAGnE,MAAM,CAACoE,IAAI;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,UAAU;AAOhB,MAAMG,WAAW,GAAGtE,MAAM,CAACuE,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GARIF,WAAW;AAUjB,MAAMG,KAAK,GAAGzE,MAAM,CAACqD,GAAG;AACxB;AACA,CAAC;AAACqB,GAAA,GAFID,KAAK;AAIX,MAAME,GAAG,GAAG3E,MAAM,CAACiD,CAAC;AACpB;AACA;AACA;AACA;AACA,CAAC;AAAC2B,GAAA,GALID,GAAG;AAOT,MAAME,IAAI,GAAG7E,MAAM,CAACoE,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBnB,CAAC,IAAIA,CAAC,CAAC6B,GAAG;AAC1B,CAAC;AAACC,IAAA,GATIF,IAAI;AAWV,MAAMG,KAAK,GAAGhF,MAAM,CAACqD,GAAG;AACxB;AACA;AACA;AACA;AACA,CAAC;AAAC4B,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}